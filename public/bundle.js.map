{"version":3,"sources":["webpack:///./front/index.js","webpack:///./front/routes.js","webpack:///./~/react-router/lib/index.js","webpack:///./~/react-router/lib/RouteUtils.js","webpack:///./~/react-router/lib/PropTypes.js","webpack:///./~/react-router/lib/PatternUtils.js","webpack:///./~/react-router/lib/Router.js","webpack:///./~/react-router/lib/createTransitionManager.js","webpack:///./~/react-router/lib/routerWarning.js","webpack:///./~/react-router/~/warning/browser.js","webpack:///./~/react-router/lib/computeChangedRoutes.js","webpack:///./~/react-router/lib/TransitionUtils.js","webpack:///./~/react-router/lib/AsyncUtils.js","webpack:///./~/react-router/lib/isActive.js","webpack:///./~/react-router/lib/getComponents.js","webpack:///./~/react-router/lib/PromiseUtils.js","webpack:///./~/react-router/lib/matchRoutes.js","webpack:///./~/react-router/lib/InternalPropTypes.js","webpack:///./~/react-router/lib/RouterContext.js","webpack:///./~/react-router/lib/getRouteParams.js","webpack:///./~/react-router/lib/ContextUtils.js","webpack:///./~/react-router/lib/RouterUtils.js","webpack:///./~/react-router/lib/Link.js","webpack:///./~/react-router/lib/IndexLink.js","webpack:///./~/react-router/lib/withRouter.js","webpack:///./~/react-router/lib/IndexRedirect.js","webpack:///./~/react-router/lib/Redirect.js","webpack:///./~/react-router/lib/IndexRoute.js","webpack:///./~/react-router/lib/Route.js","webpack:///./~/react-router/lib/match.js","webpack:///./~/react-router/~/history/lib/Actions.js","webpack:///./~/react-router/lib/createMemoryHistory.js","webpack:///./~/react-router/~/history/lib/useQueries.js","webpack:///./~/react-router/~/history/~/query-string/index.js","webpack:///./~/react-router/~/history/~/query-string/~/strict-uri-encode/index.js","webpack:///./~/react-router/~/history/lib/runTransitionHook.js","webpack:///./~/react-router/~/history/lib/LocationUtils.js","webpack:///./~/react-router/~/history/lib/PathUtils.js","webpack:///./~/react-router/~/history/lib/useBasename.js","webpack:///./~/react-router/~/history/lib/createMemoryHistory.js","webpack:///./~/react-router/~/history/lib/createHistory.js","webpack:///./~/react-router/~/history/lib/AsyncUtils.js","webpack:///./~/react-router/lib/useRouterHistory.js","webpack:///./~/react-router/lib/applyRouterMiddleware.js","webpack:///./~/react-router/lib/browserHistory.js","webpack:///./~/react-router/~/history/lib/createBrowserHistory.js","webpack:///./~/react-router/~/history/lib/ExecutionEnvironment.js","webpack:///./~/react-router/~/history/lib/BrowserProtocol.js","webpack:///./~/react-router/~/history/lib/DOMUtils.js","webpack:///./~/react-router/~/history/lib/DOMStateStorage.js","webpack:///./~/react-router/~/history/lib/RefreshProtocol.js","webpack:///./~/react-router/lib/createRouterHistory.js","webpack:///./~/react-router/lib/hashHistory.js","webpack:///./~/react-router/~/history/lib/createHashHistory.js","webpack:///./~/react-router/~/history/lib/HashProtocol.js","webpack:///./front/app/index.js","webpack:///./front/messages/index.js","webpack:///./front/messages/actions.js","webpack:///./front/messages/reducer.js","webpack:///./front/messages/components/messages.js","webpack:///./front/user/index.js","webpack:///./front/user/actions.js","webpack:///./front/fetch.js","webpack:///./~/js-cookie/src/js.cookie.js","webpack:///./front/user/reducer.js","webpack:///./front/user/components/userPage.js","webpack:///./front/user/components/loginStatus.js","webpack:///./front/events/index.js","webpack:///./front/events/actions.js","webpack:///./front/events/reducer.js","webpack:///./front/events/components/listPage.js","webpack:///./front/events/permission.js","webpack:///./shared/permissions.js","webpack:///./front/events/components/createPage.js","webpack:///./front/events/components/eventForm.js","webpack:///./~/react-toggle/dist/component/index.js","webpack:///./~/react-toggle/~/classnames/index.js","webpack:///(webpack)/buildin/amd-options.js","webpack:///./~/react-toggle/dist/component/check.js","webpack:///./~/react-toggle/dist/component/x.js","webpack:///./~/react-toggle/dist/component/util.js","webpack:///./~/react-addons-shallow-compare/index.js","webpack:///./~/react/lib/shallowCompare.js","webpack:///./front/events/components/editPage.js","webpack:///./front/bookings/index.js","webpack:///./front/bookings/actions.js","webpack:///./front/bookings/reducer.js","webpack:///./front/bookings/components/createPage.js","webpack:///./~/react-sticky/lib/index.js","webpack:///./~/react-sticky/lib/sticky.js","webpack:///./~/react-sticky/lib/container.js","webpack:///./~/react-sticky/lib/channel.js","webpack:///./front/bookings/components/bookingForm.js","webpack:///./front/bookings/components/BookingUserDetails.js","webpack:///./front/bookings/components/participantsForm.js","webpack:///./front/bookings/components/permissionForm.js","webpack:///./front/store.js","webpack:///./~/redux-thunk/lib/index.js","webpack:///./~/redux-immutable/dist/index.js","webpack:///./~/redux-immutable/dist/combineReducers.js","webpack:///./~/redux-immutable/dist/utilities/index.js","webpack:///./~/redux-immutable/dist/utilities/getStateName.js","webpack:///./~/redux-immutable/dist/utilities/getUnexpectedInvocationParameterMessage.js","webpack:///./~/redux-immutable/dist/utilities/validateNextState.js","webpack:///./front/bookings/components/participantQuickList.js","webpack:///./shared/woodcraft.js"],"names":["dispatch","actions","getUser","provider","document","getElementById","listPage","userPage","createPage","editPage","exports","__esModule","createMemoryHistory","hashHistory","browserHistory","applyRouterMiddleware","formatPattern","useRouterHistory","match","routerShape","locationShape","RouterContext","createRoutes","Route","Redirect","IndexRoute","IndexRedirect","withRouter","IndexLink","Link","Router","undefined","_RouteUtils","require","Object","defineProperty","enumerable","get","_PropTypes","_PatternUtils","_Router2","_Router3","_interopRequireDefault","_Link2","_Link3","_IndexLink2","_IndexLink3","_withRouter2","_withRouter3","_IndexRedirect2","_IndexRedirect3","_IndexRoute2","_IndexRoute3","_Redirect2","_Redirect3","_Route2","_Route3","_RouterContext2","_RouterContext3","_match2","_match3","_useRouterHistory2","_useRouterHistory3","_applyRouterMiddleware2","_applyRouterMiddleware3","_browserHistory2","_browserHistory3","_hashHistory2","_hashHistory3","_createMemoryHistory2","_createMemoryHistory3","obj","default","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","isReactChildren","createRouteFromReactElement","createRoutesFromReactChildren","_react","_react2","isValidChild","object","isValidElement","Array","isArray","every","createRoute","defaultProps","props","element","type","route","children","childRoutes","parentRoute","routes","Children","forEach","push","func","PropTypes","shape","string","isRequired","replace","go","goBack","goForward","setRouteLeaveHook","isActive","pathname","search","state","action","compilePattern","matchPattern","getParamNames","getParams","_invariant","_invariant2","escapeRegExp","_compilePattern","pattern","regexpSource","paramNames","tokens","lastIndex","matcher","exec","index","slice","CompiledPatternsCache","create","charAt","_compilePattern2","RegExp","matchedPath","remainingPathname","substr","paramValues","map","v","decodeURIComponent","params","paramName","_compilePattern3","parenCount","splatIndex","parenHistory","token","paramValue","len","splat","process","env","NODE_ENV","encodeURI","parenText","pop","substring","curTokenIdx","indexOf","tokensSubset","nextParenIdx","_i","join","encodeURIComponent","_createTransitionManager2","_createTransitionManager3","_InternalPropTypes","_RouterContext","_RouterUtils","_routerWarning","_routerWarning2","_objectWithoutProperties","keys","_React$PropTypes","createClass","displayName","propTypes","history","render","createElement","onError","onUpdate","matchContext","getDefaultProps","getInitialState","location","components","handleError","error","createRouterObject","router","transitionManager","createTransitionManager","_props","getCurrentLocation","componentWillMount","_this","_unlisten","listen","assignRouterState","setState","componentWillReceiveProps","nextProps","componentWillUnmount","_state","_props2","propType","module","_computeChangedRoutes2","_computeChangedRoutes3","_TransitionUtils","_isActive2","_isActive3","_getComponents","_getComponents2","_matchRoutes","_matchRoutes2","hasAnyProperties","p","indexOnly","createLocation","partialNextState","callback","finishMatch","nextState","_computeChangedRoutes","leaveRoutes","changeRoutes","enterRoutes","runLeaveHooks","filter","removeListenBeforeHooksForRoute","runChangeHooks","redirectInfo","handleErrorOrRedirect","runEnterHooks","finishEnterHooks","RouteGuid","getRouteID","__id__","RouteHooks","getRouteHooksForRoutes","hook","transitionHook","hooks","result","beforeUnloadHook","message","unlistenBefore","unlistenBeforeUnload","routeID","listenBeforeLeavingRoute","thereWereNoRouteHooks","listenBefore","listenBeforeUnload","listener","historyListener","redirectLocation","hash","unsubscribe","routerWarning","_resetWarned","_warning","_warning2","warned","falseToWarn","_len","args","_key","apply","concat","warning","condition","format","Error","test","argIndex","console","x","routeParamsChanged","prevState","path","some","computeChangedRoutes","prevRoutes","nextRoutes","parentIsLeaving","isLeaving","reverse","isNew","paramsChanged","_AsyncUtils","_classCallCheck","instance","Constructor","TypeError","PendingHooks","add","remove","h","has","clear","enterHooks","changeHooks","createTransitionHook","asyncArity","pendingHooks","isSync","getEnterHooks","reduce","onEnter","getChangeHooks","onChange","runTransitionHooks","iter","loopAsync","next","done","wrappedNext","onLeave","mapAsync","turns","work","currentTurn","isDone","sync","hasNext","doneArgs","array","values","doneCount","value","item","_typeof","Symbol","iterator","constructor","deepEqual","a","b","String","pathIsActive","currentPathname","routeIsActive","matched","queryIsActive","query","activeQuery","_ref","currentLocation","_PromiseUtils","getComponentsForRoute","component","getComponent","getComponents","componentReturn","isPromise","then","matchRoutes","getChildRoutes","createParams","childRoutesReturn","getIndexRoute","indexRoute","indexRoutesReturn","pathless","childRoute","err","assignParams","matchRouteDeep","_ret2","_match$routes","onChildRoutes","unshift","falsy","arrayOf","oneOfType","propName","componentName","_getRouteParams","_getRouteParams2","_ContextUtils","mixins","ContextProvider","childContextTypes","getChildContext","reduceRight","routeParams","prop","elements","getRouteParams","ContextSubscriber","contextProviderShape","subscribe","eventIndex","number","makeContextName","name","_childContextTypes","_ref2","contextName","listenersKey","eventIndexKey","subscribeKey","componentDidUpdate","_this2","_contextTypes","_ref4","lastRenderedEventIndexKey","handleContextUpdateKey","unsubscribeKey","contextTypes","_ref3","context","componentDidMount","_setState","_setState2","bool","isLeftClickEvent","event","button","isModifiedEvent","metaKey","altKey","ctrlKey","shiftKey","isEmptyObject","resolveToLocation","to","activeStyle","activeClassName","onlyActiveOnIndex","onClick","style","handleClick","defaultPrevented","preventDefault","toLocation","href","createHref","className","_Link","_hoistNonReactStatics","_hoistNonReactStatics2","getDisplayName","WrappedComponent","options","withRef","WithRouter","getWrappedInstance","wrappedInstance","ref","c","_Redirect","statics","from","routeIndex","parentPattern","getRoutePattern","_Actions","_createMemoryHistory","_createTransitionManager","renderProps","REPLACE","PUSH","POP","_useQueries","_useQueries2","_useBasename","_useBasename2","memoryHistory","createHistory","_queryString","_runTransitionHook","_runTransitionHook2","_LocationUtils","_PathUtils","defaultStringifyQuery","stringify","defaultParseQueryString","parse","useQueries","stringifyQuery","parseQueryString","decodeQuery","encodeQuery","parsePath","queryString","createPath","newLocation","createQuery","strictUriEncode","objectAssign","encode","opts","strict","extract","str","split","ret","trim","param","parts","shift","val","defaults","sort","val2","charCodeAt","toString","toUpperCase","runTransitionHook","locationsAreEqual","statesAreEqual","input","isDate","typeofA","typeofB","keysofA","keysofB","getQueryStringValueFromPath","stripQueryStringValueFromPath","addQueryStringValueToPath","_parsePath","_parsePath2","prefix","suffix","_parsePath3","extractPath","hashIndex","searchIndex","basename","useBasename","addBasename","prependBasename","pname","normalizedBasename","normalizedPathname","_createHistory","_createHistory2","createStateStorage","entries","entry","memo","current","readState","init","canGo","n","transitionTo","pushLocation","splice","saveState","replaceLocation","_options","storage","getUserConfirmation","keyLength","pendingLocation","beforeListeners","listeners","allKeys","getCurrentIndex","updateLocation","nextLocation","currentIndex","confirmTransitionTo","ok","prevPath","nextPath","prevIndex","nextIndex","createKey","Math","random","middlewares","middleware","renderRouterContext","renderRouteComponent","withContext","Boolean","withComponent","makeCreateElement","baseCreateElement","Component","previous","_createBrowserHistory","_createBrowserHistory2","_createRouterHistory","_createRouterHistory2","_ExecutionEnvironment","_BrowserProtocol","BrowserProtocol","_interopRequireWildcard","_RefreshProtocol","RefreshProtocol","_DOMUtils","newObj","createBrowserHistory","canUseDOM","useRefresh","forceRefresh","supportsHistory","Protocol","listenerCount","stopListener","startListener","before","unlisten","window","_DOMStateStorage","PopStateEvent","HashChangeEvent","needsHashchangeListener","supportsPopstateOnHashchange","_createLocation","historyState","confirm","handlePopState","addEventListener","handleUnpoppedHashChange","removeEventListener","updateState","pushState","replaceState","node","attachEvent","detachEvent","ua","navigator","userAgent","supportsGoWithoutReloadUsingHash","QuotaExceededErrors","QuotaExceededError","QUOTA_EXCEEDED_ERR","SecurityErrors","SecurityError","KeyPrefix","sessionStorage","removeItem","setItem","JSON","json","getItem","_useRouterHistory","_createHashHistory","_createHashHistory2","_HashProtocol","HashProtocol","DefaultQueryKey","addLeadingSlash","HashPathCoders","hashbang","encodePath","decodePath","noslash","slash","createHashHistory","queryKey","hashType","pathCoder","goIsSupportedWithoutReload","getHashPath","pushHashPath","replaceHashPath","prevLocation","handleHashChange","encodedPath","updateHash","App","User","mapStateToProps","mapDispatchToProps","VisibleApp","reducer","messages","SET_SUCCESS_MESSAGE","setSuccess","SET_WARNING_MESSAGE","setWarning","Messages","initalMessageState","Map","set","data","toObject","success","VisibleMessages","loginStatus","UPDATE_USER","updateUser","j","doLogin","credentials","e","status","doLogout","user","rfetch","url","method","headers","body","fetch","handleErrors","r","response","Promise","reject","factory","define","OldCookies","Cookies","api","noConflict","extend","attributes","converter","expires","Date","setMilliseconds","getMilliseconds","write","escape","cookie","toUTCString","domain","secure","cookies","rdecode","read","getJSON","withConverter","initalUserState","fromJS","UserPage","page","id","VisibleUserPage","LoginForm","email","password","updateEmail","bind","updatePassword","submit","UserProfile","UserName","Email","LoginStatus","logout","link","VisibleLoginStatus","UPDATE_EVENT","GET_EVENTS","updateEvent","getEvents","catch","log","getEvent","saveEvent","createEvent","deleteEvent","Events","initalEventState","EventList","clickCreate","events","toSeq","toArray","CreateButton","EditLink","Event","Name","StartDate","EndDate","Description","VisibleEventList","P","editEventCheck","authSelector","getIn","eventId","predicate","editEvent","toJS","failureRedirectPath","wrapperDisplayName","createEventCheck","showEditLink","FailureComponent","showCreateLink","permissions","roles","find","role","userId","CreatePage","BookingDeadline","AllowGuestBookings","VisibleCreatePage","EditForm","delete","updateName","updateDescription","updateStartDate","updateEndDate","updateBookingDeadline","clickRevert","clickDeleteLock","clickDelete","clickSave","deleteButtons","new","_createClass","defineProperties","descriptor","configurable","writable","protoProps","staticProps","_classnames","_classnames2","_check","_check2","_x","_x2","_util","_reactAddonsShallowCompare","_reactAddonsShallowCompare2","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","setPrototypeOf","__proto__","Toggle","_Component","getPrototypeOf","handleTouchStart","handleTouchMove","handleTouchEnd","handleFocus","hasFocus","handleBlur","previouslyChecked","checked","defaultChecked","checkbox","moved","focus","click","startX","pointerCoord","activated","currentX","endX","getIcon","icons","shouldComponentUpdate","_icons","inputProps","classes","disabled","onTouchStart","onTouchMove","onTouchEnd","onFocus","onBlur","unchecked","hasOwn","classNames","arg","argType","width","height","viewBox","d","fill","fillRule","changedTouches","touch","clientX","y","clientY","pageX","pageY","shallowEqual","shallowCompare","EditPage","VisibleEditPage","UPDATE_QUICK_LIST","updateQuickList","participants","Bookings","initalBookingsState","quickList","QuickList","display","Channel","StickyContainer","Sticky","_sticky","_sticky2","_container","_container2","_channel","_channel2","_reactDom","_reactDom2","_React$Component","updateContext","inherited","containerNode","containerOffset","distanceFromBottom","getDistanceFromBottom","recomputeState","isSticky","getHeight","getWidth","xOffset","getXOffset","hasChanged","channel","update","offset","onStickyStateChange","on","off","refs","placeholder","getBoundingClientRect","left","findDOMNode","getDistanceFromTop","top","bottom","fromTop","fromBottom","topBreakpoint","topOffset","bottomBreakpoint","bottomOffset","evt","newProps","newState","propNames","valuesMatch","placeholderStyle","paddingBottom","transform","_stickyStyle","position","bottomLimit","stickyClassName","stickyStyle","any","Container","updateOffset","parentChannel","fn","idx","l","BookingForm","guest","booking","phone","blankParticipant","permission","updateUserDetails","updateParticipantDetails","addParticipant","updatePermission","age","diet","dietExtra","medical","BookingUserDetails","ParticipantsForm","k","rows","ParticipantRow","PermissionForm","check","rootReducer","createThunkMiddleware","extraArgument","getState","thunk","withExtraArgument","combineReducers","_combineReducers","_combineReducers2","_utilities","_immutable","_immutable2","reducers","reducerKeys","inputState","warningMessage","getUnexpectedInvocationParameterMessage","withMutations","temporaryState","reducerName","currentDomainState","nextDomainState","validateNextState","getStateName","_getStateName2","_getStateName3","_getUnexpectedInvocationParameterMessage2","_getUnexpectedInvocationParameterMessage3","_validateNextState2","_validateNextState3","_getStateName","reducerNames","stateName","Iterable","isIterable","unexpectedStatePropertyNames","keySeq","list","groups","people","w","alignItems","woodcraft"],"mappings":"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","file":"bundle.js","sourcesContent":["import React from 'react'\r\nimport { render } from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport Routes from './routes.js'\r\nimport store from './store.js'\r\nimport user from './user'\r\n\r\nstore.dispatch(user.actions.getUser());\r\n\r\n\r\nconst provider = <Provider store={store}>{Routes}</Provider>\r\n\r\n\r\nrender(provider, document.getElementById('root'));\n\n\n// WEBPACK FOOTER //\n// ./front/index.js","import React from 'react'\r\nimport { Router, Route, Link, IndexRoute, browserHistory } from 'react-router'\r\n\r\nimport App from './app'\r\nimport user from './user'\r\nimport events from './events'\r\nimport bookings from './bookings'\r\n\r\nexport default <Router history={browserHistory}>\r\n    \t\t\t\t<Route path=\"/\" component={App}>\r\n\t\t\t\t\t\t<IndexRoute component={events.listPage} />\r\n\t\t\t\t\t\t<Route path=\"user\" component={user.userPage} />\r\n\t\t\t\t\t\t<Route path=\"event/create\" component={events.createPage}/>\r\n\t\t\t\t\t\t<Route path=\"event/:eventId/\">\r\n\t\t\t\t\t\t\t<Route path=\"book\" component={bookings.createPage} />\r\n\t\t\t\t\t\t\t<Route path=\"edit\" component={events.editPage} />\r\n\t\t\t\t\t\t</Route>\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Router>\n\n\n// WEBPACK FOOTER //\n// ./front/routes.js","'use strict';\n\nexports.__esModule = true;\nexports.createMemoryHistory = exports.hashHistory = exports.browserHistory = exports.applyRouterMiddleware = exports.formatPattern = exports.useRouterHistory = exports.match = exports.routerShape = exports.locationShape = exports.RouterContext = exports.createRoutes = exports.Route = exports.Redirect = exports.IndexRoute = exports.IndexRedirect = exports.withRouter = exports.IndexLink = exports.Link = exports.Router = undefined;\n\nvar _RouteUtils = require('./RouteUtils');\n\nObject.defineProperty(exports, 'createRoutes', {\n  enumerable: true,\n  get: function get() {\n    return _RouteUtils.createRoutes;\n  }\n});\n\nvar _PropTypes = require('./PropTypes');\n\nObject.defineProperty(exports, 'locationShape', {\n  enumerable: true,\n  get: function get() {\n    return _PropTypes.locationShape;\n  }\n});\nObject.defineProperty(exports, 'routerShape', {\n  enumerable: true,\n  get: function get() {\n    return _PropTypes.routerShape;\n  }\n});\n\nvar _PatternUtils = require('./PatternUtils');\n\nObject.defineProperty(exports, 'formatPattern', {\n  enumerable: true,\n  get: function get() {\n    return _PatternUtils.formatPattern;\n  }\n});\n\nvar _Router2 = require('./Router');\n\nvar _Router3 = _interopRequireDefault(_Router2);\n\nvar _Link2 = require('./Link');\n\nvar _Link3 = _interopRequireDefault(_Link2);\n\nvar _IndexLink2 = require('./IndexLink');\n\nvar _IndexLink3 = _interopRequireDefault(_IndexLink2);\n\nvar _withRouter2 = require('./withRouter');\n\nvar _withRouter3 = _interopRequireDefault(_withRouter2);\n\nvar _IndexRedirect2 = require('./IndexRedirect');\n\nvar _IndexRedirect3 = _interopRequireDefault(_IndexRedirect2);\n\nvar _IndexRoute2 = require('./IndexRoute');\n\nvar _IndexRoute3 = _interopRequireDefault(_IndexRoute2);\n\nvar _Redirect2 = require('./Redirect');\n\nvar _Redirect3 = _interopRequireDefault(_Redirect2);\n\nvar _Route2 = require('./Route');\n\nvar _Route3 = _interopRequireDefault(_Route2);\n\nvar _RouterContext2 = require('./RouterContext');\n\nvar _RouterContext3 = _interopRequireDefault(_RouterContext2);\n\nvar _match2 = require('./match');\n\nvar _match3 = _interopRequireDefault(_match2);\n\nvar _useRouterHistory2 = require('./useRouterHistory');\n\nvar _useRouterHistory3 = _interopRequireDefault(_useRouterHistory2);\n\nvar _applyRouterMiddleware2 = require('./applyRouterMiddleware');\n\nvar _applyRouterMiddleware3 = _interopRequireDefault(_applyRouterMiddleware2);\n\nvar _browserHistory2 = require('./browserHistory');\n\nvar _browserHistory3 = _interopRequireDefault(_browserHistory2);\n\nvar _hashHistory2 = require('./hashHistory');\n\nvar _hashHistory3 = _interopRequireDefault(_hashHistory2);\n\nvar _createMemoryHistory2 = require('./createMemoryHistory');\n\nvar _createMemoryHistory3 = _interopRequireDefault(_createMemoryHistory2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Router = _Router3.default; /* components */\n\nexports.Link = _Link3.default;\nexports.IndexLink = _IndexLink3.default;\nexports.withRouter = _withRouter3.default;\n\n/* components (configuration) */\n\nexports.IndexRedirect = _IndexRedirect3.default;\nexports.IndexRoute = _IndexRoute3.default;\nexports.Redirect = _Redirect3.default;\nexports.Route = _Route3.default;\n\n/* utils */\n\nexports.RouterContext = _RouterContext3.default;\nexports.match = _match3.default;\nexports.useRouterHistory = _useRouterHistory3.default;\nexports.applyRouterMiddleware = _applyRouterMiddleware3.default;\n\n/* histories */\n\nexports.browserHistory = _browserHistory3.default;\nexports.hashHistory = _hashHistory3.default;\nexports.createMemoryHistory = _createMemoryHistory3.default;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/index.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.isReactChildren = isReactChildren;\nexports.createRouteFromReactElement = createRouteFromReactElement;\nexports.createRoutesFromReactChildren = createRoutesFromReactChildren;\nexports.createRoutes = createRoutes;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isValidChild(object) {\n  return object == null || _react2.default.isValidElement(object);\n}\n\nfunction isReactChildren(object) {\n  return isValidChild(object) || Array.isArray(object) && object.every(isValidChild);\n}\n\nfunction createRoute(defaultProps, props) {\n  return _extends({}, defaultProps, props);\n}\n\nfunction createRouteFromReactElement(element) {\n  var type = element.type;\n  var route = createRoute(type.defaultProps, element.props);\n\n  if (route.children) {\n    var childRoutes = createRoutesFromReactChildren(route.children, route);\n\n    if (childRoutes.length) route.childRoutes = childRoutes;\n\n    delete route.children;\n  }\n\n  return route;\n}\n\n/**\n * Creates and returns a routes object from the given ReactChildren. JSX\n * provides a convenient way to visualize how routes in the hierarchy are\n * nested.\n *\n *   import { Route, createRoutesFromReactChildren } from 'react-router'\n *\n *   const routes = createRoutesFromReactChildren(\n *     <Route component={App}>\n *       <Route path=\"home\" component={Dashboard}/>\n *       <Route path=\"news\" component={NewsFeed}/>\n *     </Route>\n *   )\n *\n * Note: This method is automatically used when you provide <Route> children\n * to a <Router> component.\n */\nfunction createRoutesFromReactChildren(children, parentRoute) {\n  var routes = [];\n\n  _react2.default.Children.forEach(children, function (element) {\n    if (_react2.default.isValidElement(element)) {\n      // Component classes may have a static create* method.\n      if (element.type.createRouteFromReactElement) {\n        var route = element.type.createRouteFromReactElement(element, parentRoute);\n\n        if (route) routes.push(route);\n      } else {\n        routes.push(createRouteFromReactElement(element));\n      }\n    }\n  });\n\n  return routes;\n}\n\n/**\n * Creates and returns an array of routes from the given object which\n * may be a JSX route, a plain object route, or an array of either.\n */\nfunction createRoutes(routes) {\n  if (isReactChildren(routes)) {\n    routes = createRoutesFromReactChildren(routes);\n  } else if (routes && !Array.isArray(routes)) {\n    routes = [routes];\n  }\n\n  return routes;\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/RouteUtils.js","'use strict';\n\nexports.__esModule = true;\nexports.locationShape = exports.routerShape = undefined;\n\nvar _react = require('react');\n\nvar func = _react.PropTypes.func,\n    object = _react.PropTypes.object,\n    shape = _react.PropTypes.shape,\n    string = _react.PropTypes.string;\nvar routerShape = exports.routerShape = shape({\n  push: func.isRequired,\n  replace: func.isRequired,\n  go: func.isRequired,\n  goBack: func.isRequired,\n  goForward: func.isRequired,\n  setRouteLeaveHook: func.isRequired,\n  isActive: func.isRequired\n});\n\nvar locationShape = exports.locationShape = shape({\n  pathname: string.isRequired,\n  search: string.isRequired,\n  state: object,\n  action: string.isRequired,\n  key: string\n});\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/PropTypes.js","'use strict';\n\nexports.__esModule = true;\nexports.compilePattern = compilePattern;\nexports.matchPattern = matchPattern;\nexports.getParamNames = getParamNames;\nexports.getParams = getParams;\nexports.formatPattern = formatPattern;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction escapeRegExp(string) {\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n\nfunction _compilePattern(pattern) {\n  var regexpSource = '';\n  var paramNames = [];\n  var tokens = [];\n\n  var match = void 0,\n      lastIndex = 0,\n      matcher = /:([a-zA-Z_$][a-zA-Z0-9_$]*)|\\*\\*|\\*|\\(|\\)/g;\n  while (match = matcher.exec(pattern)) {\n    if (match.index !== lastIndex) {\n      tokens.push(pattern.slice(lastIndex, match.index));\n      regexpSource += escapeRegExp(pattern.slice(lastIndex, match.index));\n    }\n\n    if (match[1]) {\n      regexpSource += '([^/]+)';\n      paramNames.push(match[1]);\n    } else if (match[0] === '**') {\n      regexpSource += '(.*)';\n      paramNames.push('splat');\n    } else if (match[0] === '*') {\n      regexpSource += '(.*?)';\n      paramNames.push('splat');\n    } else if (match[0] === '(') {\n      regexpSource += '(?:';\n    } else if (match[0] === ')') {\n      regexpSource += ')?';\n    }\n\n    tokens.push(match[0]);\n\n    lastIndex = matcher.lastIndex;\n  }\n\n  if (lastIndex !== pattern.length) {\n    tokens.push(pattern.slice(lastIndex, pattern.length));\n    regexpSource += escapeRegExp(pattern.slice(lastIndex, pattern.length));\n  }\n\n  return {\n    pattern: pattern,\n    regexpSource: regexpSource,\n    paramNames: paramNames,\n    tokens: tokens\n  };\n}\n\nvar CompiledPatternsCache = Object.create(null);\n\nfunction compilePattern(pattern) {\n  if (!CompiledPatternsCache[pattern]) CompiledPatternsCache[pattern] = _compilePattern(pattern);\n\n  return CompiledPatternsCache[pattern];\n}\n\n/**\n * Attempts to match a pattern on the given pathname. Patterns may use\n * the following special characters:\n *\n * - :paramName     Matches a URL segment up to the next /, ?, or #. The\n *                  captured string is considered a \"param\"\n * - ()             Wraps a segment of the URL that is optional\n * - *              Consumes (non-greedy) all characters up to the next\n *                  character in the pattern, or to the end of the URL if\n *                  there is none\n * - **             Consumes (greedy) all characters up to the next character\n *                  in the pattern, or to the end of the URL if there is none\n *\n *  The function calls callback(error, matched) when finished.\n * The return value is an object with the following properties:\n *\n * - remainingPathname\n * - paramNames\n * - paramValues\n */\nfunction matchPattern(pattern, pathname) {\n  // Ensure pattern starts with leading slash for consistency with pathname.\n  if (pattern.charAt(0) !== '/') {\n    pattern = '/' + pattern;\n  }\n\n  var _compilePattern2 = compilePattern(pattern),\n      regexpSource = _compilePattern2.regexpSource,\n      paramNames = _compilePattern2.paramNames,\n      tokens = _compilePattern2.tokens;\n\n  if (pattern.charAt(pattern.length - 1) !== '/') {\n    regexpSource += '/?'; // Allow optional path separator at end.\n  }\n\n  // Special-case patterns like '*' for catch-all routes.\n  if (tokens[tokens.length - 1] === '*') {\n    regexpSource += '$';\n  }\n\n  var match = pathname.match(new RegExp('^' + regexpSource, 'i'));\n  if (match == null) {\n    return null;\n  }\n\n  var matchedPath = match[0];\n  var remainingPathname = pathname.substr(matchedPath.length);\n\n  if (remainingPathname) {\n    // Require that the match ends at a path separator, if we didn't match\n    // the full path, so any remaining pathname is a new path segment.\n    if (matchedPath.charAt(matchedPath.length - 1) !== '/') {\n      return null;\n    }\n\n    // If there is a remaining pathname, treat the path separator as part of\n    // the remaining pathname for properly continuing the match.\n    remainingPathname = '/' + remainingPathname;\n  }\n\n  return {\n    remainingPathname: remainingPathname,\n    paramNames: paramNames,\n    paramValues: match.slice(1).map(function (v) {\n      return v && decodeURIComponent(v);\n    })\n  };\n}\n\nfunction getParamNames(pattern) {\n  return compilePattern(pattern).paramNames;\n}\n\nfunction getParams(pattern, pathname) {\n  var match = matchPattern(pattern, pathname);\n  if (!match) {\n    return null;\n  }\n\n  var paramNames = match.paramNames,\n      paramValues = match.paramValues;\n\n  var params = {};\n\n  paramNames.forEach(function (paramName, index) {\n    params[paramName] = paramValues[index];\n  });\n\n  return params;\n}\n\n/**\n * Returns a version of the given pattern with params interpolated. Throws\n * if there is a dynamic segment of the pattern for which there is no param.\n */\nfunction formatPattern(pattern, params) {\n  params = params || {};\n\n  var _compilePattern3 = compilePattern(pattern),\n      tokens = _compilePattern3.tokens;\n\n  var parenCount = 0,\n      pathname = '',\n      splatIndex = 0,\n      parenHistory = [];\n\n  var token = void 0,\n      paramName = void 0,\n      paramValue = void 0;\n  for (var i = 0, len = tokens.length; i < len; ++i) {\n    token = tokens[i];\n\n    if (token === '*' || token === '**') {\n      paramValue = Array.isArray(params.splat) ? params.splat[splatIndex++] : params.splat;\n\n      !(paramValue != null || parenCount > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Missing splat #%s for path \"%s\"', splatIndex, pattern) : (0, _invariant2.default)(false) : void 0;\n\n      if (paramValue != null) pathname += encodeURI(paramValue);\n    } else if (token === '(') {\n      parenHistory[parenCount] = '';\n      parenCount += 1;\n    } else if (token === ')') {\n      var parenText = parenHistory.pop();\n      parenCount -= 1;\n\n      if (parenCount) parenHistory[parenCount - 1] += parenText;else pathname += parenText;\n    } else if (token.charAt(0) === ':') {\n      paramName = token.substring(1);\n      paramValue = params[paramName];\n\n      !(paramValue != null || parenCount > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Missing \"%s\" parameter for path \"%s\"', paramName, pattern) : (0, _invariant2.default)(false) : void 0;\n\n      if (paramValue == null) {\n        if (parenCount) {\n          parenHistory[parenCount - 1] = '';\n\n          var curTokenIdx = tokens.indexOf(token);\n          var tokensSubset = tokens.slice(curTokenIdx, tokens.length);\n          var nextParenIdx = -1;\n\n          for (var _i = 0; _i < tokensSubset.length; _i++) {\n            if (tokensSubset[_i] == ')') {\n              nextParenIdx = _i;\n              break;\n            }\n          }\n\n          !(nextParenIdx > 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Path \"%s\" is missing end paren at segment \"%s\"', pattern, tokensSubset.join('')) : (0, _invariant2.default)(false) : void 0;\n\n          // jump to ending paren\n          i = curTokenIdx + nextParenIdx - 1;\n        }\n      } else if (parenCount) parenHistory[parenCount - 1] += encodeURIComponent(paramValue);else pathname += encodeURIComponent(paramValue);\n    } else {\n      if (parenCount) parenHistory[parenCount - 1] += token;else pathname += token;\n    }\n  }\n\n  !(parenCount <= 0) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Path \"%s\" is missing end paren', pattern) : (0, _invariant2.default)(false) : void 0;\n\n  return pathname.replace(/\\/+/g, '/');\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/PatternUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _createTransitionManager2 = require('./createTransitionManager');\n\nvar _createTransitionManager3 = _interopRequireDefault(_createTransitionManager2);\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nvar _RouterContext = require('./RouterContext');\n\nvar _RouterContext2 = _interopRequireDefault(_RouterContext);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _RouterUtils = require('./RouterUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    func = _React$PropTypes.func,\n    object = _React$PropTypes.object;\n\n/**\n * A <Router> is a high-level API for automatically setting up\n * a router that renders a <RouterContext> with all the props\n * it needs each time the URL changes.\n */\n\nvar Router = _react2.default.createClass({\n  displayName: 'Router',\n\n\n  propTypes: {\n    history: object,\n    children: _InternalPropTypes.routes,\n    routes: _InternalPropTypes.routes, // alias for children\n    render: func,\n    createElement: func,\n    onError: func,\n    onUpdate: func,\n\n    // PRIVATE: For client-side rehydration of server match.\n    matchContext: object\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      render: function render(props) {\n        return _react2.default.createElement(_RouterContext2.default, props);\n      }\n    };\n  },\n  getInitialState: function getInitialState() {\n    return {\n      location: null,\n      routes: null,\n      params: null,\n      components: null\n    };\n  },\n  handleError: function handleError(error) {\n    if (this.props.onError) {\n      this.props.onError.call(this, error);\n    } else {\n      // Throw errors by default so we don't silently swallow them!\n      throw error; // This error probably occurred in getChildRoutes or getComponents.\n    }\n  },\n  createRouterObject: function createRouterObject(state) {\n    var matchContext = this.props.matchContext;\n\n    if (matchContext) {\n      return matchContext.router;\n    }\n\n    var history = this.props.history;\n\n    return (0, _RouterUtils.createRouterObject)(history, this.transitionManager, state);\n  },\n  createTransitionManager: function createTransitionManager() {\n    var matchContext = this.props.matchContext;\n\n    if (matchContext) {\n      return matchContext.transitionManager;\n    }\n\n    var history = this.props.history;\n    var _props = this.props,\n        routes = _props.routes,\n        children = _props.children;\n\n\n    !history.getCurrentLocation ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'You have provided a history object created with history v2.x or ' + 'earlier. This version of React Router is only compatible with v3 ' + 'history objects. Please upgrade to history v3.x.') : (0, _invariant2.default)(false) : void 0;\n\n    return (0, _createTransitionManager3.default)(history, (0, _RouteUtils.createRoutes)(routes || children));\n  },\n  componentWillMount: function componentWillMount() {\n    var _this = this;\n\n    this.transitionManager = this.createTransitionManager();\n    this.router = this.createRouterObject(this.state);\n\n    this._unlisten = this.transitionManager.listen(function (error, state) {\n      if (error) {\n        _this.handleError(error);\n      } else {\n        // Keep the identity of this.router because of a caveat in ContextUtils:\n        // they only work if the object identity is preserved.\n        (0, _RouterUtils.assignRouterState)(_this.router, state);\n        _this.setState(state, _this.props.onUpdate);\n      }\n    });\n  },\n\n\n  /* istanbul ignore next: sanity check */\n  componentWillReceiveProps: function componentWillReceiveProps(nextProps) {\n    process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(nextProps.history === this.props.history, 'You cannot change <Router history>; it will be ignored') : void 0;\n\n    process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)((nextProps.routes || nextProps.children) === (this.props.routes || this.props.children), 'You cannot change <Router routes>; it will be ignored') : void 0;\n  },\n  componentWillUnmount: function componentWillUnmount() {\n    if (this._unlisten) this._unlisten();\n  },\n  render: function render() {\n    var _state = this.state,\n        location = _state.location,\n        routes = _state.routes,\n        params = _state.params,\n        components = _state.components;\n\n    var _props2 = this.props,\n        createElement = _props2.createElement,\n        render = _props2.render,\n        props = _objectWithoutProperties(_props2, ['createElement', 'render']);\n\n    if (location == null) return null; // Async match\n\n    // Only forward non-Router-specific props to routing context, as those are\n    // the only ones that might be custom routing context props.\n    Object.keys(Router.propTypes).forEach(function (propType) {\n      return delete props[propType];\n    });\n\n    return render(_extends({}, props, {\n      router: this.router,\n      location: location,\n      routes: routes,\n      params: params,\n      components: components,\n      createElement: createElement\n    }));\n  }\n});\n\nexports.default = Router;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/Router.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = createTransitionManager;\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _computeChangedRoutes2 = require('./computeChangedRoutes');\n\nvar _computeChangedRoutes3 = _interopRequireDefault(_computeChangedRoutes2);\n\nvar _TransitionUtils = require('./TransitionUtils');\n\nvar _isActive2 = require('./isActive');\n\nvar _isActive3 = _interopRequireDefault(_isActive2);\n\nvar _getComponents = require('./getComponents');\n\nvar _getComponents2 = _interopRequireDefault(_getComponents);\n\nvar _matchRoutes = require('./matchRoutes');\n\nvar _matchRoutes2 = _interopRequireDefault(_matchRoutes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction hasAnyProperties(object) {\n  for (var p in object) {\n    if (Object.prototype.hasOwnProperty.call(object, p)) return true;\n  }return false;\n}\n\nfunction createTransitionManager(history, routes) {\n  var state = {};\n\n  // Signature should be (location, indexOnly), but needs to support (path,\n  // query, indexOnly)\n  function isActive(location, indexOnly) {\n    location = history.createLocation(location);\n\n    return (0, _isActive3.default)(location, indexOnly, state.location, state.routes, state.params);\n  }\n\n  var partialNextState = void 0;\n\n  function match(location, callback) {\n    if (partialNextState && partialNextState.location === location) {\n      // Continue from where we left off.\n      finishMatch(partialNextState, callback);\n    } else {\n      (0, _matchRoutes2.default)(routes, location, function (error, nextState) {\n        if (error) {\n          callback(error);\n        } else if (nextState) {\n          finishMatch(_extends({}, nextState, { location: location }), callback);\n        } else {\n          callback();\n        }\n      });\n    }\n  }\n\n  function finishMatch(nextState, callback) {\n    var _computeChangedRoutes = (0, _computeChangedRoutes3.default)(state, nextState),\n        leaveRoutes = _computeChangedRoutes.leaveRoutes,\n        changeRoutes = _computeChangedRoutes.changeRoutes,\n        enterRoutes = _computeChangedRoutes.enterRoutes;\n\n    (0, _TransitionUtils.runLeaveHooks)(leaveRoutes, state);\n\n    // Tear down confirmation hooks for left routes\n    leaveRoutes.filter(function (route) {\n      return enterRoutes.indexOf(route) === -1;\n    }).forEach(removeListenBeforeHooksForRoute);\n\n    // change and enter hooks are run in series\n    (0, _TransitionUtils.runChangeHooks)(changeRoutes, state, nextState, function (error, redirectInfo) {\n      if (error || redirectInfo) return handleErrorOrRedirect(error, redirectInfo);\n\n      (0, _TransitionUtils.runEnterHooks)(enterRoutes, nextState, finishEnterHooks);\n    });\n\n    function finishEnterHooks(error, redirectInfo) {\n      if (error || redirectInfo) return handleErrorOrRedirect(error, redirectInfo);\n\n      // TODO: Fetch components after state is updated.\n      (0, _getComponents2.default)(nextState, function (error, components) {\n        if (error) {\n          callback(error);\n        } else {\n          // TODO: Make match a pure function and have some other API\n          // for \"match and update state\".\n          callback(null, null, state = _extends({}, nextState, { components: components }));\n        }\n      });\n    }\n\n    function handleErrorOrRedirect(error, redirectInfo) {\n      if (error) callback(error);else callback(null, redirectInfo);\n    }\n  }\n\n  var RouteGuid = 1;\n\n  function getRouteID(route) {\n    var create = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    return route.__id__ || create && (route.__id__ = RouteGuid++);\n  }\n\n  var RouteHooks = Object.create(null);\n\n  function getRouteHooksForRoutes(routes) {\n    return routes.map(function (route) {\n      return RouteHooks[getRouteID(route)];\n    }).filter(function (hook) {\n      return hook;\n    });\n  }\n\n  function transitionHook(location, callback) {\n    (0, _matchRoutes2.default)(routes, location, function (error, nextState) {\n      if (nextState == null) {\n        // TODO: We didn't actually match anything, but hang\n        // onto error/nextState so we don't have to matchRoutes\n        // again in the listen callback.\n        callback();\n        return;\n      }\n\n      // Cache some state here so we don't have to\n      // matchRoutes() again in the listen callback.\n      partialNextState = _extends({}, nextState, { location: location });\n\n      var hooks = getRouteHooksForRoutes((0, _computeChangedRoutes3.default)(state, partialNextState).leaveRoutes);\n\n      var result = void 0;\n      for (var i = 0, len = hooks.length; result == null && i < len; ++i) {\n        // Passing the location arg here indicates to\n        // the user that this is a transition hook.\n        result = hooks[i](location);\n      }\n\n      callback(result);\n    });\n  }\n\n  /* istanbul ignore next: untestable with Karma */\n  function beforeUnloadHook() {\n    // Synchronously check to see if any route hooks want\n    // to prevent the current window/tab from closing.\n    if (state.routes) {\n      var hooks = getRouteHooksForRoutes(state.routes);\n\n      var message = void 0;\n      for (var i = 0, len = hooks.length; typeof message !== 'string' && i < len; ++i) {\n        // Passing no args indicates to the user that this is a\n        // beforeunload hook. We don't know the next location.\n        message = hooks[i]();\n      }\n\n      return message;\n    }\n  }\n\n  var unlistenBefore = void 0,\n      unlistenBeforeUnload = void 0;\n\n  function removeListenBeforeHooksForRoute(route) {\n    var routeID = getRouteID(route);\n    if (!routeID) {\n      return;\n    }\n\n    delete RouteHooks[routeID];\n\n    if (!hasAnyProperties(RouteHooks)) {\n      // teardown transition & beforeunload hooks\n      if (unlistenBefore) {\n        unlistenBefore();\n        unlistenBefore = null;\n      }\n\n      if (unlistenBeforeUnload) {\n        unlistenBeforeUnload();\n        unlistenBeforeUnload = null;\n      }\n    }\n  }\n\n  /**\n   * Registers the given hook function to run before leaving the given route.\n   *\n   * During a normal transition, the hook function receives the next location\n   * as its only argument and can return either a prompt message (string) to show the user,\n   * to make sure they want to leave the page; or `false`, to prevent the transition.\n   * Any other return value will have no effect.\n   *\n   * During the beforeunload event (in browsers) the hook receives no arguments.\n   * In this case it must return a prompt message to prevent the transition.\n   *\n   * Returns a function that may be used to unbind the listener.\n   */\n  function listenBeforeLeavingRoute(route, hook) {\n    var thereWereNoRouteHooks = !hasAnyProperties(RouteHooks);\n    var routeID = getRouteID(route, true);\n\n    RouteHooks[routeID] = hook;\n\n    if (thereWereNoRouteHooks) {\n      // setup transition & beforeunload hooks\n      unlistenBefore = history.listenBefore(transitionHook);\n\n      if (history.listenBeforeUnload) unlistenBeforeUnload = history.listenBeforeUnload(beforeUnloadHook);\n    }\n\n    return function () {\n      removeListenBeforeHooksForRoute(route);\n    };\n  }\n\n  /**\n   * This is the API for stateful environments. As the location\n   * changes, we update state and call the listener. We can also\n   * gracefully handle errors and redirects.\n   */\n  function listen(listener) {\n    function historyListener(location) {\n      if (state.location === location) {\n        listener(null, state);\n      } else {\n        match(location, function (error, redirectLocation, nextState) {\n          if (error) {\n            listener(error);\n          } else if (redirectLocation) {\n            history.replace(redirectLocation);\n          } else if (nextState) {\n            listener(null, nextState);\n          } else {\n            process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, 'Location \"%s\" did not match any routes', location.pathname + location.search + location.hash) : void 0;\n          }\n        });\n      }\n    }\n\n    // TODO: Only use a single history listener. Otherwise we'll end up with\n    // multiple concurrent calls to match.\n\n    // Set up the history listener first in case the initial match redirects.\n    var unsubscribe = history.listen(historyListener);\n\n    if (state.location) {\n      // Picking up on a matchContext.\n      listener(null, state);\n    } else {\n      historyListener(history.getCurrentLocation());\n    }\n\n    return unsubscribe;\n  }\n\n  return {\n    isActive: isActive,\n    match: match,\n    listenBeforeLeavingRoute: listenBeforeLeavingRoute,\n    listen: listen\n  };\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/createTransitionManager.js","'use strict';\n\nexports.__esModule = true;\nexports.default = routerWarning;\nexports._resetWarned = _resetWarned;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar warned = {};\n\nfunction routerWarning(falseToWarn, message) {\n  // Only issue deprecation warnings once.\n  if (message.indexOf('deprecated') !== -1) {\n    if (warned[message]) {\n      return;\n    }\n\n    warned[message] = true;\n  }\n\n  message = '[react-router] ' + message;\n\n  for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    args[_key - 2] = arguments[_key];\n  }\n\n  _warning2.default.apply(undefined, [falseToWarn, message].concat(args));\n}\n\nfunction _resetWarned() {\n  warned = {};\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/routerWarning.js","/**\n * Copyright 2014-2015, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n'use strict';\n\n/**\n * Similar to invariant but only logs a warning if the condition is not met.\n * This can be used to log issues in development environments in critical\n * paths. Removing the logging code for production environments will keep the\n * same logic and follow the same code paths.\n */\n\nvar warning = function() {};\n\nif (process.env.NODE_ENV !== 'production') {\n  warning = function(condition, format, args) {\n    var len = arguments.length;\n    args = new Array(len > 2 ? len - 2 : 0);\n    for (var key = 2; key < len; key++) {\n      args[key - 2] = arguments[key];\n    }\n    if (format === undefined) {\n      throw new Error(\n        '`warning(condition, format, ...args)` requires a warning ' +\n        'message argument'\n      );\n    }\n\n    if (format.length < 10 || (/^[s\\W]*$/).test(format)) {\n      throw new Error(\n        'The warning format should be able to uniquely identify this ' +\n        'warning. Please, use a more descriptive format than: ' + format\n      );\n    }\n\n    if (!condition) {\n      var argIndex = 0;\n      var message = 'Warning: ' +\n        format.replace(/%s/g, function() {\n          return args[argIndex++];\n        });\n      if (typeof console !== 'undefined') {\n        console.error(message);\n      }\n      try {\n        // This error was thrown as a convenience so that you can use this stack\n        // to find the callsite that caused this warning to fire.\n        throw new Error(message);\n      } catch(x) {}\n    }\n  };\n}\n\nmodule.exports = warning;\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/warning/browser.js","'use strict';\n\nexports.__esModule = true;\n\nvar _PatternUtils = require('./PatternUtils');\n\nfunction routeParamsChanged(route, prevState, nextState) {\n  if (!route.path) return false;\n\n  var paramNames = (0, _PatternUtils.getParamNames)(route.path);\n\n  return paramNames.some(function (paramName) {\n    return prevState.params[paramName] !== nextState.params[paramName];\n  });\n}\n\n/**\n * Returns an object of { leaveRoutes, changeRoutes, enterRoutes } determined by\n * the change from prevState to nextState. We leave routes if either\n * 1) they are not in the next state or 2) they are in the next state\n * but their params have changed (i.e. /users/123 => /users/456).\n *\n * leaveRoutes are ordered starting at the leaf route of the tree\n * we're leaving up to the common parent route. enterRoutes are ordered\n * from the top of the tree we're entering down to the leaf route.\n *\n * changeRoutes are any routes that didn't leave or enter during\n * the transition.\n */\nfunction computeChangedRoutes(prevState, nextState) {\n  var prevRoutes = prevState && prevState.routes;\n  var nextRoutes = nextState.routes;\n\n  var leaveRoutes = void 0,\n      changeRoutes = void 0,\n      enterRoutes = void 0;\n  if (prevRoutes) {\n    (function () {\n      var parentIsLeaving = false;\n      leaveRoutes = prevRoutes.filter(function (route) {\n        if (parentIsLeaving) {\n          return true;\n        } else {\n          var isLeaving = nextRoutes.indexOf(route) === -1 || routeParamsChanged(route, prevState, nextState);\n          if (isLeaving) parentIsLeaving = true;\n          return isLeaving;\n        }\n      });\n\n      // onLeave hooks start at the leaf route.\n      leaveRoutes.reverse();\n\n      enterRoutes = [];\n      changeRoutes = [];\n\n      nextRoutes.forEach(function (route) {\n        var isNew = prevRoutes.indexOf(route) === -1;\n        var paramsChanged = leaveRoutes.indexOf(route) !== -1;\n\n        if (isNew || paramsChanged) enterRoutes.push(route);else changeRoutes.push(route);\n      });\n    })();\n  } else {\n    leaveRoutes = [];\n    changeRoutes = [];\n    enterRoutes = nextRoutes;\n  }\n\n  return {\n    leaveRoutes: leaveRoutes,\n    changeRoutes: changeRoutes,\n    enterRoutes: enterRoutes\n  };\n}\n\nexports.default = computeChangedRoutes;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/computeChangedRoutes.js","'use strict';\n\nexports.__esModule = true;\nexports.runEnterHooks = runEnterHooks;\nexports.runChangeHooks = runChangeHooks;\nexports.runLeaveHooks = runLeaveHooks;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PendingHooks = function PendingHooks() {\n  var _this = this;\n\n  _classCallCheck(this, PendingHooks);\n\n  this.hooks = [];\n\n  this.add = function (hook) {\n    return _this.hooks.push(hook);\n  };\n\n  this.remove = function (hook) {\n    return _this.hooks = _this.hooks.filter(function (h) {\n      return h !== hook;\n    });\n  };\n\n  this.has = function (hook) {\n    return _this.hooks.indexOf(hook) !== -1;\n  };\n\n  this.clear = function () {\n    return _this.hooks = [];\n  };\n};\n\nvar enterHooks = new PendingHooks();\nvar changeHooks = new PendingHooks();\n\nfunction createTransitionHook(hook, route, asyncArity, pendingHooks) {\n  var isSync = hook.length < asyncArity;\n\n  var transitionHook = function transitionHook() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    hook.apply(route, args);\n\n    if (isSync) {\n      var callback = args[args.length - 1];\n      // Assume hook executes synchronously and\n      // automatically call the callback.\n      callback();\n    }\n  };\n\n  pendingHooks.add(transitionHook);\n\n  return transitionHook;\n}\n\nfunction getEnterHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onEnter) hooks.push(createTransitionHook(route.onEnter, route, 3, enterHooks));\n    return hooks;\n  }, []);\n}\n\nfunction getChangeHooks(routes) {\n  return routes.reduce(function (hooks, route) {\n    if (route.onChange) hooks.push(createTransitionHook(route.onChange, route, 4, changeHooks));\n    return hooks;\n  }, []);\n}\n\nfunction runTransitionHooks(length, iter, callback) {\n  if (!length) {\n    callback();\n    return;\n  }\n\n  var redirectInfo = void 0;\n  function replace(location) {\n    redirectInfo = location;\n  }\n\n  (0, _AsyncUtils.loopAsync)(length, function (index, next, done) {\n    iter(index, replace, function (error) {\n      if (error || redirectInfo) {\n        done(error, redirectInfo); // No need to continue.\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\n\n/**\n * Runs all onEnter hooks in the given array of routes in order\n * with onEnter(nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runEnterHooks(routes, nextState, callback) {\n  enterHooks.clear();\n  var hooks = getEnterHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (enterHooks.has(hooks[index])) {\n        next();\n        enterHooks.remove(hooks[index]);\n      }\n    };\n    hooks[index](nextState, replace, wrappedNext);\n  }, callback);\n}\n\n/**\n * Runs all onChange hooks in the given array of routes in order\n * with onChange(prevState, nextState, replace, callback) and calls\n * callback(error, redirectInfo) when finished. The first hook\n * to use replace short-circuits the loop.\n *\n * If a hook needs to run asynchronously, it may use the callback\n * function. However, doing so will cause the transition to pause,\n * which could lead to a non-responsive UI if the hook is slow.\n */\nfunction runChangeHooks(routes, state, nextState, callback) {\n  changeHooks.clear();\n  var hooks = getChangeHooks(routes);\n  return runTransitionHooks(hooks.length, function (index, replace, next) {\n    var wrappedNext = function wrappedNext() {\n      if (changeHooks.has(hooks[index])) {\n        next();\n        changeHooks.remove(hooks[index]);\n      }\n    };\n    hooks[index](state, nextState, replace, wrappedNext);\n  }, callback);\n}\n\n/**\n * Runs all onLeave hooks in the given array of routes in order.\n */\nfunction runLeaveHooks(routes, prevState) {\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    if (routes[i].onLeave) routes[i].onLeave.call(routes[i], prevState);\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/TransitionUtils.js","\"use strict\";\n\nexports.__esModule = true;\nexports.loopAsync = loopAsync;\nexports.mapAsync = mapAsync;\nfunction loopAsync(turns, work, callback) {\n  var currentTurn = 0,\n      isDone = false;\n  var sync = false,\n      hasNext = false,\n      doneArgs = void 0;\n\n  function done() {\n    isDone = true;\n    if (sync) {\n      // Iterate instead of recursing if possible.\n      doneArgs = [].concat(Array.prototype.slice.call(arguments));\n      return;\n    }\n\n    callback.apply(this, arguments);\n  }\n\n  function next() {\n    if (isDone) {\n      return;\n    }\n\n    hasNext = true;\n    if (sync) {\n      // Iterate instead of recursing if possible.\n      return;\n    }\n\n    sync = true;\n\n    while (!isDone && currentTurn < turns && hasNext) {\n      hasNext = false;\n      work.call(this, currentTurn++, next, done);\n    }\n\n    sync = false;\n\n    if (isDone) {\n      // This means the loop finished synchronously.\n      callback.apply(this, doneArgs);\n      return;\n    }\n\n    if (currentTurn >= turns && hasNext) {\n      isDone = true;\n      callback();\n    }\n  }\n\n  next();\n}\n\nfunction mapAsync(array, work, callback) {\n  var length = array.length;\n  var values = [];\n\n  if (length === 0) return callback(null, values);\n\n  var isDone = false,\n      doneCount = 0;\n\n  function done(index, error, value) {\n    if (isDone) return;\n\n    if (error) {\n      isDone = true;\n      callback(error);\n    } else {\n      values[index] = value;\n\n      isDone = ++doneCount === length;\n\n      if (isDone) callback(null, values);\n    }\n  }\n\n  array.forEach(function (item, index) {\n    work(item, index, function (error, value) {\n      done(index, error, value);\n    });\n  });\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/AsyncUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isActive;\n\nvar _PatternUtils = require('./PatternUtils');\n\nfunction deepEqual(a, b) {\n  if (a == b) return true;\n\n  if (a == null || b == null) return false;\n\n  if (Array.isArray(a)) {\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return deepEqual(item, b[index]);\n    });\n  }\n\n  if ((typeof a === 'undefined' ? 'undefined' : _typeof(a)) === 'object') {\n    for (var p in a) {\n      if (!Object.prototype.hasOwnProperty.call(a, p)) {\n        continue;\n      }\n\n      if (a[p] === undefined) {\n        if (b[p] !== undefined) {\n          return false;\n        }\n      } else if (!Object.prototype.hasOwnProperty.call(b, p)) {\n        return false;\n      } else if (!deepEqual(a[p], b[p])) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  return String(a) === String(b);\n}\n\n/**\n * Returns true if the current pathname matches the supplied one, net of\n * leading and trailing slash normalization. This is sufficient for an\n * indexOnly route match.\n */\nfunction pathIsActive(pathname, currentPathname) {\n  // Normalize leading slash for consistency. Leading slash on pathname has\n  // already been normalized in isActive. See caveat there.\n  if (currentPathname.charAt(0) !== '/') {\n    currentPathname = '/' + currentPathname;\n  }\n\n  // Normalize the end of both path names too. Maybe `/foo/` shouldn't show\n  // `/foo` as active, but in this case, we would already have failed the\n  // match.\n  if (pathname.charAt(pathname.length - 1) !== '/') {\n    pathname += '/';\n  }\n  if (currentPathname.charAt(currentPathname.length - 1) !== '/') {\n    currentPathname += '/';\n  }\n\n  return currentPathname === pathname;\n}\n\n/**\n * Returns true if the given pathname matches the active routes and params.\n */\nfunction routeIsActive(pathname, routes, params) {\n  var remainingPathname = pathname,\n      paramNames = [],\n      paramValues = [];\n\n  // for...of would work here but it's probably slower post-transpilation.\n  for (var i = 0, len = routes.length; i < len; ++i) {\n    var route = routes[i];\n    var pattern = route.path || '';\n\n    if (pattern.charAt(0) === '/') {\n      remainingPathname = pathname;\n      paramNames = [];\n      paramValues = [];\n    }\n\n    if (remainingPathname !== null && pattern) {\n      var matched = (0, _PatternUtils.matchPattern)(pattern, remainingPathname);\n      if (matched) {\n        remainingPathname = matched.remainingPathname;\n        paramNames = [].concat(paramNames, matched.paramNames);\n        paramValues = [].concat(paramValues, matched.paramValues);\n      } else {\n        remainingPathname = null;\n      }\n\n      if (remainingPathname === '') {\n        // We have an exact match on the route. Just check that all the params\n        // match.\n        // FIXME: This doesn't work on repeated params.\n        return paramNames.every(function (paramName, index) {\n          return String(paramValues[index]) === String(params[paramName]);\n        });\n      }\n    }\n  }\n\n  return false;\n}\n\n/**\n * Returns true if all key/value pairs in the given query are\n * currently active.\n */\nfunction queryIsActive(query, activeQuery) {\n  if (activeQuery == null) return query == null;\n\n  if (query == null) return true;\n\n  return deepEqual(query, activeQuery);\n}\n\n/**\n * Returns true if a <Link> to the given pathname/query combination is\n * currently active.\n */\nfunction isActive(_ref, indexOnly, currentLocation, routes, params) {\n  var pathname = _ref.pathname,\n      query = _ref.query;\n\n  if (currentLocation == null) return false;\n\n  // TODO: This is a bit ugly. It keeps around support for treating pathnames\n  // without preceding slashes as absolute paths, but possibly also works\n  // around the same quirks with basenames as in matchRoutes.\n  if (pathname.charAt(0) !== '/') {\n    pathname = '/' + pathname;\n  }\n\n  if (!pathIsActive(pathname, currentLocation.pathname)) {\n    // The path check is necessary and sufficient for indexOnly, but otherwise\n    // we still need to check the routes.\n    if (indexOnly || !routeIsActive(pathname, routes, params)) {\n      return false;\n    }\n  }\n\n  return queryIsActive(query, currentLocation.query);\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/isActive.js","'use strict';\n\nexports.__esModule = true;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PromiseUtils = require('./PromiseUtils');\n\nfunction getComponentsForRoute(nextState, route, callback) {\n  if (route.component || route.components) {\n    callback(null, route.component || route.components);\n    return;\n  }\n\n  var getComponent = route.getComponent || route.getComponents;\n  if (getComponent) {\n    var componentReturn = getComponent.call(route, nextState, callback);\n    if ((0, _PromiseUtils.isPromise)(componentReturn)) componentReturn.then(function (component) {\n      return callback(null, component);\n    }, callback);\n  } else {\n    callback();\n  }\n}\n\n/**\n * Asynchronously fetches all components needed for the given router\n * state and calls callback(error, components) when finished.\n *\n * Note: This operation may finish synchronously if no routes have an\n * asynchronous getComponents method.\n */\nfunction getComponents(nextState, callback) {\n  (0, _AsyncUtils.mapAsync)(nextState.routes, function (route, index, callback) {\n    getComponentsForRoute(nextState, route, callback);\n  }, callback);\n}\n\nexports.default = getComponents;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/getComponents.js","'use strict';\n\nexports.__esModule = true;\nexports.isPromise = isPromise;\nfunction isPromise(obj) {\n  return obj && typeof obj.then === 'function';\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/PromiseUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = matchRoutes;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PromiseUtils = require('./PromiseUtils');\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _RouteUtils = require('./RouteUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getChildRoutes(route, location, paramNames, paramValues, callback) {\n  if (route.childRoutes) {\n    return [null, route.childRoutes];\n  }\n  if (!route.getChildRoutes) {\n    return [];\n  }\n\n  var sync = true,\n      result = void 0;\n\n  var partialNextState = {\n    location: location,\n    params: createParams(paramNames, paramValues)\n  };\n\n  var childRoutesReturn = route.getChildRoutes(partialNextState, function (error, childRoutes) {\n    childRoutes = !error && (0, _RouteUtils.createRoutes)(childRoutes);\n    if (sync) {\n      result = [error, childRoutes];\n      return;\n    }\n\n    callback(error, childRoutes);\n  });\n\n  if ((0, _PromiseUtils.isPromise)(childRoutesReturn)) childRoutesReturn.then(function (childRoutes) {\n    return callback(null, (0, _RouteUtils.createRoutes)(childRoutes));\n  }, callback);\n\n  sync = false;\n  return result; // Might be undefined.\n}\n\nfunction getIndexRoute(route, location, paramNames, paramValues, callback) {\n  if (route.indexRoute) {\n    callback(null, route.indexRoute);\n  } else if (route.getIndexRoute) {\n    var partialNextState = {\n      location: location,\n      params: createParams(paramNames, paramValues)\n    };\n\n    var indexRoutesReturn = route.getIndexRoute(partialNextState, function (error, indexRoute) {\n      callback(error, !error && (0, _RouteUtils.createRoutes)(indexRoute)[0]);\n    });\n\n    if ((0, _PromiseUtils.isPromise)(indexRoutesReturn)) indexRoutesReturn.then(function (indexRoute) {\n      return callback(null, (0, _RouteUtils.createRoutes)(indexRoute)[0]);\n    }, callback);\n  } else if (route.childRoutes) {\n    (function () {\n      var pathless = route.childRoutes.filter(function (childRoute) {\n        return !childRoute.path;\n      });\n\n      (0, _AsyncUtils.loopAsync)(pathless.length, function (index, next, done) {\n        getIndexRoute(pathless[index], location, paramNames, paramValues, function (error, indexRoute) {\n          if (error || indexRoute) {\n            var routes = [pathless[index]].concat(Array.isArray(indexRoute) ? indexRoute : [indexRoute]);\n            done(error, routes);\n          } else {\n            next();\n          }\n        });\n      }, function (err, routes) {\n        callback(null, routes);\n      });\n    })();\n  } else {\n    callback();\n  }\n}\n\nfunction assignParams(params, paramNames, paramValues) {\n  return paramNames.reduce(function (params, paramName, index) {\n    var paramValue = paramValues && paramValues[index];\n\n    if (Array.isArray(params[paramName])) {\n      params[paramName].push(paramValue);\n    } else if (paramName in params) {\n      params[paramName] = [params[paramName], paramValue];\n    } else {\n      params[paramName] = paramValue;\n    }\n\n    return params;\n  }, params);\n}\n\nfunction createParams(paramNames, paramValues) {\n  return assignParams({}, paramNames, paramValues);\n}\n\nfunction matchRouteDeep(route, location, remainingPathname, paramNames, paramValues, callback) {\n  var pattern = route.path || '';\n\n  if (pattern.charAt(0) === '/') {\n    remainingPathname = location.pathname;\n    paramNames = [];\n    paramValues = [];\n  }\n\n  // Only try to match the path if the route actually has a pattern, and if\n  // we're not just searching for potential nested absolute paths.\n  if (remainingPathname !== null && pattern) {\n    try {\n      var matched = (0, _PatternUtils.matchPattern)(pattern, remainingPathname);\n      if (matched) {\n        remainingPathname = matched.remainingPathname;\n        paramNames = [].concat(paramNames, matched.paramNames);\n        paramValues = [].concat(paramValues, matched.paramValues);\n      } else {\n        remainingPathname = null;\n      }\n    } catch (error) {\n      callback(error);\n    }\n\n    // By assumption, pattern is non-empty here, which is the prerequisite for\n    // actually terminating a match.\n    if (remainingPathname === '') {\n      var _ret2 = function () {\n        var match = {\n          routes: [route],\n          params: createParams(paramNames, paramValues)\n        };\n\n        getIndexRoute(route, location, paramNames, paramValues, function (error, indexRoute) {\n          if (error) {\n            callback(error);\n          } else {\n            if (Array.isArray(indexRoute)) {\n              var _match$routes;\n\n              process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(indexRoute.every(function (route) {\n                return !route.path;\n              }), 'Index routes should not have paths') : void 0;\n              (_match$routes = match.routes).push.apply(_match$routes, indexRoute);\n            } else if (indexRoute) {\n              process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(!indexRoute.path, 'Index routes should not have paths') : void 0;\n              match.routes.push(indexRoute);\n            }\n\n            callback(null, match);\n          }\n        });\n\n        return {\n          v: void 0\n        };\n      }();\n\n      if ((typeof _ret2 === 'undefined' ? 'undefined' : _typeof(_ret2)) === \"object\") return _ret2.v;\n    }\n  }\n\n  if (remainingPathname != null || route.childRoutes) {\n    // Either a) this route matched at least some of the path or b)\n    // we don't have to load this route's children asynchronously. In\n    // either case continue checking for matches in the subtree.\n    var onChildRoutes = function onChildRoutes(error, childRoutes) {\n      if (error) {\n        callback(error);\n      } else if (childRoutes) {\n        // Check the child routes to see if any of them match.\n        matchRoutes(childRoutes, location, function (error, match) {\n          if (error) {\n            callback(error);\n          } else if (match) {\n            // A child route matched! Augment the match and pass it up the stack.\n            match.routes.unshift(route);\n            callback(null, match);\n          } else {\n            callback();\n          }\n        }, remainingPathname, paramNames, paramValues);\n      } else {\n        callback();\n      }\n    };\n\n    var result = getChildRoutes(route, location, paramNames, paramValues, onChildRoutes);\n    if (result) {\n      onChildRoutes.apply(undefined, result);\n    }\n  } else {\n    callback();\n  }\n}\n\n/**\n * Asynchronously matches the given location to a set of routes and calls\n * callback(error, state) when finished. The state object will have the\n * following properties:\n *\n * - routes       An array of routes that matched, in hierarchical order\n * - params       An object of URL parameters\n *\n * Note: This operation may finish synchronously if no routes have an\n * asynchronous getChildRoutes method.\n */\nfunction matchRoutes(routes, location, callback, remainingPathname) {\n  var paramNames = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : [];\n  var paramValues = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : [];\n\n  if (remainingPathname === undefined) {\n    // TODO: This is a little bit ugly, but it works around a quirk in history\n    // that strips the leading slash from pathnames when using basenames with\n    // trailing slashes.\n    if (location.pathname.charAt(0) !== '/') {\n      location = _extends({}, location, {\n        pathname: '/' + location.pathname\n      });\n    }\n    remainingPathname = location.pathname;\n  }\n\n  (0, _AsyncUtils.loopAsync)(routes.length, function (index, next, done) {\n    matchRouteDeep(routes[index], location, remainingPathname, paramNames, paramValues, function (error, match) {\n      if (error || match) {\n        done(error, match);\n      } else {\n        next();\n      }\n    });\n  }, callback);\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/matchRoutes.js","'use strict';\n\nexports.__esModule = true;\nexports.routes = exports.route = exports.components = exports.component = exports.history = undefined;\nexports.falsy = falsy;\n\nvar _react = require('react');\n\nvar func = _react.PropTypes.func,\n    object = _react.PropTypes.object,\n    arrayOf = _react.PropTypes.arrayOf,\n    oneOfType = _react.PropTypes.oneOfType,\n    element = _react.PropTypes.element,\n    shape = _react.PropTypes.shape,\n    string = _react.PropTypes.string;\nfunction falsy(props, propName, componentName) {\n  if (props[propName]) return new Error('<' + componentName + '> should not have a \"' + propName + '\" prop');\n}\n\nvar history = exports.history = shape({\n  listen: func.isRequired,\n  push: func.isRequired,\n  replace: func.isRequired,\n  go: func.isRequired,\n  goBack: func.isRequired,\n  goForward: func.isRequired\n});\n\nvar component = exports.component = oneOfType([func, string]);\nvar components = exports.components = oneOfType([component, object]);\nvar route = exports.route = oneOfType([object, element]);\nvar routes = exports.routes = oneOfType([route, arrayOf(route)]);\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/InternalPropTypes.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _getRouteParams = require('./getRouteParams');\n\nvar _getRouteParams2 = _interopRequireDefault(_getRouteParams);\n\nvar _ContextUtils = require('./ContextUtils');\n\nvar _RouteUtils = require('./RouteUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    array = _React$PropTypes.array,\n    func = _React$PropTypes.func,\n    object = _React$PropTypes.object;\n\n/**\n * A <RouterContext> renders the component tree for a given router state\n * and sets the history object and the current location in context.\n */\n\nvar RouterContext = _react2.default.createClass({\n  displayName: 'RouterContext',\n\n\n  mixins: [(0, _ContextUtils.ContextProvider)('router')],\n\n  propTypes: {\n    router: object.isRequired,\n    location: object.isRequired,\n    routes: array.isRequired,\n    params: object.isRequired,\n    components: array.isRequired,\n    createElement: func.isRequired\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      createElement: _react2.default.createElement\n    };\n  },\n\n\n  childContextTypes: {\n    router: object.isRequired\n  },\n\n  getChildContext: function getChildContext() {\n    return {\n      router: this.props.router\n    };\n  },\n  createElement: function createElement(component, props) {\n    return component == null ? null : this.props.createElement(component, props);\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props = this.props,\n        location = _props.location,\n        routes = _props.routes,\n        params = _props.params,\n        components = _props.components,\n        router = _props.router;\n\n    var element = null;\n\n    if (components) {\n      element = components.reduceRight(function (element, components, index) {\n        if (components == null) return element; // Don't create new children; use the grandchildren.\n\n        var route = routes[index];\n        var routeParams = (0, _getRouteParams2.default)(route, params);\n        var props = {\n          location: location,\n          params: params,\n          route: route,\n          router: router,\n          routeParams: routeParams,\n          routes: routes\n        };\n\n        if ((0, _RouteUtils.isReactChildren)(element)) {\n          props.children = element;\n        } else if (element) {\n          for (var prop in element) {\n            if (Object.prototype.hasOwnProperty.call(element, prop)) props[prop] = element[prop];\n          }\n        }\n\n        if ((typeof components === 'undefined' ? 'undefined' : _typeof(components)) === 'object') {\n          var elements = {};\n\n          for (var key in components) {\n            if (Object.prototype.hasOwnProperty.call(components, key)) {\n              // Pass through the key as a prop to createElement to allow\n              // custom createElement functions to know which named component\n              // they're rendering, for e.g. matching up to fetched data.\n              elements[key] = _this.createElement(components[key], _extends({\n                key: key }, props));\n            }\n          }\n\n          return elements;\n        }\n\n        return _this.createElement(components, props);\n      }, element);\n    }\n\n    !(element === null || element === false || _react2.default.isValidElement(element)) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'The root route must render a single element') : (0, _invariant2.default)(false) : void 0;\n\n    return element;\n  }\n});\n\nexports.default = RouterContext;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/RouterContext.js","'use strict';\n\nexports.__esModule = true;\n\nvar _PatternUtils = require('./PatternUtils');\n\n/**\n * Extracts an object of params the given route cares about from\n * the given params object.\n */\nfunction getRouteParams(route, params) {\n  var routeParams = {};\n\n  if (!route.path) return routeParams;\n\n  (0, _PatternUtils.getParamNames)(route.path).forEach(function (p) {\n    if (Object.prototype.hasOwnProperty.call(params, p)) {\n      routeParams[p] = params[p];\n    }\n  });\n\n  return routeParams;\n}\n\nexports.default = getRouteParams;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/getRouteParams.js","'use strict';\n\nexports.__esModule = true;\nexports.ContextProvider = ContextProvider;\nexports.ContextSubscriber = ContextSubscriber;\n\nvar _react = require('react');\n\n// Works around issues with context updates failing to propagate.\n// Caveat: the context value is expected to never change its identity.\n// https://github.com/facebook/react/issues/2517\n// https://github.com/reactjs/react-router/issues/470\n\nvar contextProviderShape = _react.PropTypes.shape({\n  subscribe: _react.PropTypes.func.isRequired,\n  eventIndex: _react.PropTypes.number.isRequired\n});\n\nfunction makeContextName(name) {\n  return '@@contextSubscriber/' + name;\n}\n\nfunction ContextProvider(name) {\n  var _childContextTypes, _ref2;\n\n  var contextName = makeContextName(name);\n  var listenersKey = contextName + '/listeners';\n  var eventIndexKey = contextName + '/eventIndex';\n  var subscribeKey = contextName + '/subscribe';\n\n  return _ref2 = {\n    childContextTypes: (_childContextTypes = {}, _childContextTypes[contextName] = contextProviderShape.isRequired, _childContextTypes),\n\n    getChildContext: function getChildContext() {\n      var _ref;\n\n      return _ref = {}, _ref[contextName] = {\n        eventIndex: this[eventIndexKey],\n        subscribe: this[subscribeKey]\n      }, _ref;\n    },\n    componentWillMount: function componentWillMount() {\n      this[listenersKey] = [];\n      this[eventIndexKey] = 0;\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      this[eventIndexKey]++;\n    },\n    componentDidUpdate: function componentDidUpdate() {\n      var _this = this;\n\n      this[listenersKey].forEach(function (listener) {\n        return listener(_this[eventIndexKey]);\n      });\n    }\n  }, _ref2[subscribeKey] = function (listener) {\n    var _this2 = this;\n\n    // No need to immediately call listener here.\n    this[listenersKey].push(listener);\n\n    return function () {\n      _this2[listenersKey] = _this2[listenersKey].filter(function (item) {\n        return item !== listener;\n      });\n    };\n  }, _ref2;\n}\n\nfunction ContextSubscriber(name) {\n  var _contextTypes, _ref4;\n\n  var contextName = makeContextName(name);\n  var lastRenderedEventIndexKey = contextName + '/lastRenderedEventIndex';\n  var handleContextUpdateKey = contextName + '/handleContextUpdate';\n  var unsubscribeKey = contextName + '/unsubscribe';\n\n  return _ref4 = {\n    contextTypes: (_contextTypes = {}, _contextTypes[contextName] = contextProviderShape, _contextTypes),\n\n    getInitialState: function getInitialState() {\n      var _ref3;\n\n      if (!this.context[contextName]) {\n        return {};\n      }\n\n      return _ref3 = {}, _ref3[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _ref3;\n    },\n    componentDidMount: function componentDidMount() {\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this[unsubscribeKey] = this.context[contextName].subscribe(this[handleContextUpdateKey]);\n    },\n    componentWillReceiveProps: function componentWillReceiveProps() {\n      var _setState;\n\n      if (!this.context[contextName]) {\n        return;\n      }\n\n      this.setState((_setState = {}, _setState[lastRenderedEventIndexKey] = this.context[contextName].eventIndex, _setState));\n    },\n    componentWillUnmount: function componentWillUnmount() {\n      if (!this[unsubscribeKey]) {\n        return;\n      }\n\n      this[unsubscribeKey]();\n      this[unsubscribeKey] = null;\n    }\n  }, _ref4[handleContextUpdateKey] = function (eventIndex) {\n    if (eventIndex !== this.state[lastRenderedEventIndexKey]) {\n      var _setState2;\n\n      this.setState((_setState2 = {}, _setState2[lastRenderedEventIndexKey] = eventIndex, _setState2));\n    }\n  }, _ref4;\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/ContextUtils.js","\"use strict\";\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.createRouterObject = createRouterObject;\nexports.assignRouterState = assignRouterState;\nfunction createRouterObject(history, transitionManager, state) {\n  var router = _extends({}, history, {\n    setRouteLeaveHook: transitionManager.listenBeforeLeavingRoute,\n    isActive: transitionManager.isActive\n  });\n\n  return assignRouterState(router, state);\n}\n\nfunction assignRouterState(router, _ref) {\n  var location = _ref.location,\n      params = _ref.params,\n      routes = _ref.routes;\n\n  router.location = location;\n  router.params = params;\n  router.routes = routes;\n\n  return router;\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/RouterUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _PropTypes = require('./PropTypes');\n\nvar _ContextUtils = require('./ContextUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    bool = _React$PropTypes.bool,\n    object = _React$PropTypes.object,\n    string = _React$PropTypes.string,\n    func = _React$PropTypes.func,\n    oneOfType = _React$PropTypes.oneOfType;\n\n\nfunction isLeftClickEvent(event) {\n  return event.button === 0;\n}\n\nfunction isModifiedEvent(event) {\n  return !!(event.metaKey || event.altKey || event.ctrlKey || event.shiftKey);\n}\n\n// TODO: De-duplicate against hasAnyProperties in createTransitionManager.\nfunction isEmptyObject(object) {\n  for (var p in object) {\n    if (Object.prototype.hasOwnProperty.call(object, p)) return false;\n  }return true;\n}\n\nfunction resolveToLocation(to, router) {\n  return typeof to === 'function' ? to(router.location) : to;\n}\n\n/**\n * A <Link> is used to create an <a> element that links to a route.\n * When that route is active, the link gets the value of its\n * activeClassName prop.\n *\n * For example, assuming you have the following route:\n *\n *   <Route path=\"/posts/:postID\" component={Post} />\n *\n * You could use the following component to link to that route:\n *\n *   <Link to={`/posts/${post.id}`} />\n *\n * Links may pass along location state and/or query string parameters\n * in the state/query props, respectively.\n *\n *   <Link ... query={{ show: true }} state={{ the: 'state' }} />\n */\nvar Link = _react2.default.createClass({\n  displayName: 'Link',\n\n\n  mixins: [(0, _ContextUtils.ContextSubscriber)('router')],\n\n  contextTypes: {\n    router: _PropTypes.routerShape\n  },\n\n  propTypes: {\n    to: oneOfType([string, object, func]),\n    query: object,\n    hash: string,\n    state: object,\n    activeStyle: object,\n    activeClassName: string,\n    onlyActiveOnIndex: bool.isRequired,\n    onClick: func,\n    target: string\n  },\n\n  getDefaultProps: function getDefaultProps() {\n    return {\n      onlyActiveOnIndex: false,\n      style: {}\n    };\n  },\n  handleClick: function handleClick(event) {\n    if (this.props.onClick) this.props.onClick(event);\n\n    if (event.defaultPrevented) return;\n\n    var router = this.context.router;\n\n    !router ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<Link>s rendered outside of a router context cannot navigate.') : (0, _invariant2.default)(false) : void 0;\n\n    if (isModifiedEvent(event) || !isLeftClickEvent(event)) return;\n\n    // If target prop is set (e.g. to \"_blank\"), let browser handle link.\n    /* istanbul ignore if: untestable with Karma */\n    if (this.props.target) return;\n\n    event.preventDefault();\n\n    router.push(resolveToLocation(this.props.to, router));\n  },\n  render: function render() {\n    var _props = this.props,\n        to = _props.to,\n        activeClassName = _props.activeClassName,\n        activeStyle = _props.activeStyle,\n        onlyActiveOnIndex = _props.onlyActiveOnIndex,\n        props = _objectWithoutProperties(_props, ['to', 'activeClassName', 'activeStyle', 'onlyActiveOnIndex']);\n\n    // Ignore if rendered outside the context of router to simplify unit testing.\n\n\n    var router = this.context.router;\n\n\n    if (router) {\n      // If user does not specify a `to` prop, return an empty anchor tag.\n      if (to == null) {\n        return _react2.default.createElement('a', props);\n      }\n\n      var toLocation = resolveToLocation(to, router);\n      props.href = router.createHref(toLocation);\n\n      if (activeClassName || activeStyle != null && !isEmptyObject(activeStyle)) {\n        if (router.isActive(toLocation, onlyActiveOnIndex)) {\n          if (activeClassName) {\n            if (props.className) {\n              props.className += ' ' + activeClassName;\n            } else {\n              props.className = activeClassName;\n            }\n          }\n\n          if (activeStyle) props.style = _extends({}, props.style, activeStyle);\n        }\n      }\n    }\n\n    return _react2.default.createElement('a', _extends({}, props, { onClick: this.handleClick }));\n  }\n});\n\nexports.default = Link;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/Link.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Link = require('./Link');\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * An <IndexLink> is used to link to an <IndexRoute>.\n */\nvar IndexLink = _react2.default.createClass({\n  displayName: 'IndexLink',\n  render: function render() {\n    return _react2.default.createElement(_Link2.default, _extends({}, this.props, { onlyActiveOnIndex: true }));\n  }\n});\n\nexports.default = IndexLink;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/IndexLink.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = withRouter;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _ContextUtils = require('./ContextUtils');\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nfunction withRouter(WrappedComponent, options) {\n  var withRef = options && options.withRef;\n\n  var WithRouter = _react2.default.createClass({\n    displayName: 'WithRouter',\n\n    mixins: [(0, _ContextUtils.ContextSubscriber)('router')],\n\n    contextTypes: { router: _PropTypes.routerShape },\n    propTypes: { router: _PropTypes.routerShape },\n\n    getWrappedInstance: function getWrappedInstance() {\n      !withRef ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'To access the wrapped instance, you need to specify ' + '`{ withRef: true }` as the second argument of the withRouter() call.') : (0, _invariant2.default)(false) : void 0;\n\n      return this.wrappedInstance;\n    },\n    render: function render() {\n      var _this = this;\n\n      var router = this.props.router || this.context.router;\n      var params = router.params,\n          location = router.location,\n          routes = router.routes;\n\n      var props = _extends({}, this.props, { router: router, params: params, location: location, routes: routes });\n\n      if (withRef) {\n        props.ref = function (c) {\n          _this.wrappedInstance = c;\n        };\n      }\n\n      return _react2.default.createElement(WrappedComponent, props);\n    }\n  });\n\n  WithRouter.displayName = 'withRouter(' + getDisplayName(WrappedComponent) + ')';\n  WithRouter.WrappedComponent = WrappedComponent;\n\n  return (0, _hoistNonReactStatics2.default)(WithRouter, WrappedComponent);\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/withRouter.js","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _Redirect = require('./Redirect');\n\nvar _Redirect2 = _interopRequireDefault(_Redirect);\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    string = _React$PropTypes.string,\n    object = _React$PropTypes.object;\n\n/**\n * An <IndexRedirect> is used to redirect from an indexRoute.\n */\n/* eslint-disable react/require-render-return */\n\nvar IndexRedirect = _react2.default.createClass({\n  displayName: 'IndexRedirect',\n\n\n  statics: {\n    createRouteFromReactElement: function createRouteFromReactElement(element, parentRoute) {\n      /* istanbul ignore else: sanity check */\n      if (parentRoute) {\n        parentRoute.indexRoute = _Redirect2.default.createRouteFromReactElement(element);\n      } else {\n        process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, 'An <IndexRedirect> does not make sense at the root of your route config') : void 0;\n      }\n    }\n  },\n\n  propTypes: {\n    to: string.isRequired,\n    query: object,\n    state: object,\n    onEnter: _InternalPropTypes.falsy,\n    children: _InternalPropTypes.falsy\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<IndexRedirect> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\n\nexports.default = IndexRedirect;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/IndexRedirect.js","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _PatternUtils = require('./PatternUtils');\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    string = _React$PropTypes.string,\n    object = _React$PropTypes.object;\n\n/**\n * A <Redirect> is used to declare another URL path a client should\n * be sent to when they request a given URL.\n *\n * Redirects are placed alongside routes in the route configuration\n * and are traversed in the same manner.\n */\n/* eslint-disable react/require-render-return */\n\nvar Redirect = _react2.default.createClass({\n  displayName: 'Redirect',\n\n\n  statics: {\n    createRouteFromReactElement: function createRouteFromReactElement(element) {\n      var route = (0, _RouteUtils.createRouteFromReactElement)(element);\n\n      if (route.from) route.path = route.from;\n\n      route.onEnter = function (nextState, replace) {\n        var location = nextState.location,\n            params = nextState.params;\n\n\n        var pathname = void 0;\n        if (route.to.charAt(0) === '/') {\n          pathname = (0, _PatternUtils.formatPattern)(route.to, params);\n        } else if (!route.to) {\n          pathname = location.pathname;\n        } else {\n          var routeIndex = nextState.routes.indexOf(route);\n          var parentPattern = Redirect.getRoutePattern(nextState.routes, routeIndex - 1);\n          var pattern = parentPattern.replace(/\\/*$/, '/') + route.to;\n          pathname = (0, _PatternUtils.formatPattern)(pattern, params);\n        }\n\n        replace({\n          pathname: pathname,\n          query: route.query || location.query,\n          state: route.state || location.state\n        });\n      };\n\n      return route;\n    },\n    getRoutePattern: function getRoutePattern(routes, routeIndex) {\n      var parentPattern = '';\n\n      for (var i = routeIndex; i >= 0; i--) {\n        var route = routes[i];\n        var pattern = route.path || '';\n\n        parentPattern = pattern.replace(/\\/*$/, '/') + parentPattern;\n\n        if (pattern.indexOf('/') === 0) break;\n      }\n\n      return '/' + parentPattern;\n    }\n  },\n\n  propTypes: {\n    path: string,\n    from: string, // Alias for path\n    to: string.isRequired,\n    query: object,\n    state: object,\n    onEnter: _InternalPropTypes.falsy,\n    children: _InternalPropTypes.falsy\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<Redirect> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\n\nexports.default = Redirect;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/Redirect.js","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar func = _react2.default.PropTypes.func;\n\n/**\n * An <IndexRoute> is used to specify its parent's <Route indexRoute> in\n * a JSX route config.\n */\n/* eslint-disable react/require-render-return */\n\nvar IndexRoute = _react2.default.createClass({\n  displayName: 'IndexRoute',\n\n\n  statics: {\n    createRouteFromReactElement: function createRouteFromReactElement(element, parentRoute) {\n      /* istanbul ignore else: sanity check */\n      if (parentRoute) {\n        parentRoute.indexRoute = (0, _RouteUtils.createRouteFromReactElement)(element);\n      } else {\n        process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(false, 'An <IndexRoute> does not make sense at the root of your route config') : void 0;\n      }\n    }\n  },\n\n  propTypes: {\n    path: _InternalPropTypes.falsy,\n    component: _InternalPropTypes.component,\n    components: _InternalPropTypes.components,\n    getComponent: func,\n    getComponents: func\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<IndexRoute> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\n\nexports.default = IndexRoute;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/IndexRoute.js","'use strict';\n\nexports.__esModule = true;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _InternalPropTypes = require('./InternalPropTypes');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _React$PropTypes = _react2.default.PropTypes,\n    string = _React$PropTypes.string,\n    func = _React$PropTypes.func;\n\n/**\n * A <Route> is used to declare which components are rendered to the\n * page when the URL matches a given pattern.\n *\n * Routes are arranged in a nested tree structure. When a new URL is\n * requested, the tree is searched depth-first to find a route whose\n * path matches the URL.  When one is found, all routes in the tree\n * that lead to it are considered \"active\" and their components are\n * rendered into the DOM, nested in the same order as in the tree.\n */\n/* eslint-disable react/require-render-return */\n\nvar Route = _react2.default.createClass({\n  displayName: 'Route',\n\n\n  statics: {\n    createRouteFromReactElement: _RouteUtils.createRouteFromReactElement\n  },\n\n  propTypes: {\n    path: string,\n    component: _InternalPropTypes.component,\n    components: _InternalPropTypes.components,\n    getComponent: func,\n    getComponents: func\n  },\n\n  /* istanbul ignore next: sanity check */\n  render: function render() {\n    !false ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, '<Route> elements are for router configuration only and should not be rendered') : (0, _invariant2.default)(false) : void 0;\n  }\n});\n\nexports.default = Route;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/Route.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Actions = require('history/lib/Actions');\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _createMemoryHistory = require('./createMemoryHistory');\n\nvar _createMemoryHistory2 = _interopRequireDefault(_createMemoryHistory);\n\nvar _createTransitionManager = require('./createTransitionManager');\n\nvar _createTransitionManager2 = _interopRequireDefault(_createTransitionManager);\n\nvar _RouteUtils = require('./RouteUtils');\n\nvar _RouterUtils = require('./RouterUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\n/**\n * A high-level API to be used for server-side rendering.\n *\n * This function matches a location to a set of routes and calls\n * callback(error, redirectLocation, renderProps) when finished.\n *\n * Note: You probably don't want to use this in a browser unless you're using\n * server-side rendering with async routes.\n */\nfunction match(_ref, callback) {\n  var history = _ref.history,\n      routes = _ref.routes,\n      location = _ref.location,\n      options = _objectWithoutProperties(_ref, ['history', 'routes', 'location']);\n\n  !(history || location) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'match needs a history or a location') : (0, _invariant2.default)(false) : void 0;\n\n  history = history ? history : (0, _createMemoryHistory2.default)(options);\n  var transitionManager = (0, _createTransitionManager2.default)(history, (0, _RouteUtils.createRoutes)(routes));\n\n  if (location) {\n    // Allow match({ location: '/the/path', ... })\n    location = history.createLocation(location);\n  } else {\n    location = history.getCurrentLocation();\n  }\n\n  transitionManager.match(location, function (error, redirectLocation, nextState) {\n    var renderProps = void 0;\n\n    if (nextState) {\n      var router = (0, _RouterUtils.createRouterObject)(history, transitionManager, nextState);\n      renderProps = _extends({}, nextState, {\n        router: router,\n        matchContext: { transitionManager: transitionManager, router: router }\n      });\n    }\n\n    callback(error, redirectLocation && history.createLocation(redirectLocation, _Actions.REPLACE), renderProps);\n  });\n}\n\nexports.default = match;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/match.js","'use strict';\n\nexports.__esModule = true;\n/**\n * Indicates that navigation was caused by a call to history.push.\n */\nvar PUSH = exports.PUSH = 'PUSH';\n\n/**\n * Indicates that navigation was caused by a call to history.replace.\n */\nvar REPLACE = exports.REPLACE = 'REPLACE';\n\n/**\n * Indicates that navigation was caused by some other action such\n * as using a browser's back/forward buttons and/or manually manipulating\n * the URL in a browser's location bar. This is the default.\n *\n * See https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onpopstate\n * for more information.\n */\nvar POP = exports.POP = 'POP';\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/Actions.js","'use strict';\n\nexports.__esModule = true;\nexports.default = createMemoryHistory;\n\nvar _useQueries = require('history/lib/useQueries');\n\nvar _useQueries2 = _interopRequireDefault(_useQueries);\n\nvar _useBasename = require('history/lib/useBasename');\n\nvar _useBasename2 = _interopRequireDefault(_useBasename);\n\nvar _createMemoryHistory = require('history/lib/createMemoryHistory');\n\nvar _createMemoryHistory2 = _interopRequireDefault(_createMemoryHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createMemoryHistory(options) {\n  // signatures and type checking differ between `useQueries` and\n  // `createMemoryHistory`, have to create `memoryHistory` first because\n  // `useQueries` doesn't understand the signature\n  var memoryHistory = (0, _createMemoryHistory2.default)(options);\n  var createHistory = function createHistory() {\n    return memoryHistory;\n  };\n  var history = (0, _useQueries2.default)((0, _useBasename2.default)(createHistory))(options);\n  return history;\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/createMemoryHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _queryString = require('query-string');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar defaultStringifyQuery = function defaultStringifyQuery(query) {\n  return (0, _queryString.stringify)(query).replace(/%20/g, '+');\n};\n\nvar defaultParseQueryString = _queryString.parse;\n\n/**\n * Returns a new createHistory function that may be used to create\n * history objects that know how to handle URL queries.\n */\nvar useQueries = function useQueries(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var history = createHistory(options);\n    var stringifyQuery = options.stringifyQuery;\n    var parseQueryString = options.parseQueryString;\n\n\n    if (typeof stringifyQuery !== 'function') stringifyQuery = defaultStringifyQuery;\n\n    if (typeof parseQueryString !== 'function') parseQueryString = defaultParseQueryString;\n\n    var decodeQuery = function decodeQuery(location) {\n      if (!location) return location;\n\n      if (location.query == null) location.query = parseQueryString(location.search.substring(1));\n\n      return location;\n    };\n\n    var encodeQuery = function encodeQuery(location, query) {\n      if (query == null) return location;\n\n      var object = typeof location === 'string' ? (0, _PathUtils.parsePath)(location) : location;\n      var queryString = stringifyQuery(query);\n      var search = queryString ? '?' + queryString : '';\n\n      return _extends({}, object, {\n        search: search\n      });\n    };\n\n    // Override all read methods with query-aware versions.\n    var getCurrentLocation = function getCurrentLocation() {\n      return decodeQuery(history.getCurrentLocation());\n    };\n\n    var listenBefore = function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        return (0, _runTransitionHook2.default)(hook, decodeQuery(location), callback);\n      });\n    };\n\n    var listen = function listen(listener) {\n      return history.listen(function (location) {\n        return listener(decodeQuery(location));\n      });\n    };\n\n    // Override all write methods with query-aware versions.\n    var push = function push(location) {\n      return history.push(encodeQuery(location, location.query));\n    };\n\n    var replace = function replace(location) {\n      return history.replace(encodeQuery(location, location.query));\n    };\n\n    var createPath = function createPath(location) {\n      return history.createPath(encodeQuery(location, location.query));\n    };\n\n    var createHref = function createHref(location) {\n      return history.createHref(encodeQuery(location, location.query));\n    };\n\n    var createLocation = function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      var newLocation = history.createLocation.apply(history, [encodeQuery(location, location.query)].concat(args));\n\n      if (location.query) newLocation.query = (0, _LocationUtils.createQuery)(location.query);\n\n      return decodeQuery(newLocation);\n    };\n\n    return _extends({}, history, {\n      getCurrentLocation: getCurrentLocation,\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation\n    });\n  };\n};\n\nexports.default = useQueries;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/useQueries.js","'use strict';\nvar strictUriEncode = require('strict-uri-encode');\nvar objectAssign = require('object-assign');\n\nfunction encode(value, opts) {\n\tif (opts.encode) {\n\t\treturn opts.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\t// Create an object with no prototype\n\t// https://github.com/sindresorhus/query-string/issues/47\n\tvar ret = Object.create(null);\n\n\tif (typeof str !== 'string') {\n\t\treturn ret;\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn ret;\n\t}\n\n\tstr.split('&').forEach(function (param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (ret[key] === undefined) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\t});\n\n\treturn ret;\n};\n\nexports.stringify = function (obj, opts) {\n\tvar defaults = {\n\t\tencode: true,\n\t\tstrict: true\n\t};\n\n\topts = objectAssign(defaults, opts);\n\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn encode(key, opts);\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\tvar result = [];\n\n\t\t\tval.slice().forEach(function (val2) {\n\t\t\t\tif (val2 === undefined) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (val2 === null) {\n\t\t\t\t\tresult.push(encode(key, opts));\n\t\t\t\t} else {\n\t\t\t\t\tresult.push(encode(key, opts) + '=' + encode(val2, opts));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn result.join('&');\n\t\t}\n\n\t\treturn encode(key, opts) + '=' + encode(val, opts);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/~/query-string/index.js","'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/~/query-string/~/strict-uri-encode/index.js","'use strict';\n\nexports.__esModule = true;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar runTransitionHook = function runTransitionHook(hook, location, callback) {\n  var result = hook(location, callback);\n\n  if (hook.length < 2) {\n    // Assume the hook runs synchronously and automatically\n    // call the callback with the return value.\n    callback(result);\n  } else {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(result === undefined, 'You should not \"return\" in a transition hook with a callback argument; ' + 'call the callback instead') : void 0;\n  }\n};\n\nexports.default = runTransitionHook;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/runTransitionHook.js","'use strict';\n\nexports.__esModule = true;\nexports.locationsAreEqual = exports.statesAreEqual = exports.createLocation = exports.createQuery = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _PathUtils = require('./PathUtils');\n\nvar _Actions = require('./Actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createQuery = exports.createQuery = function createQuery(props) {\n  return _extends(Object.create(null), props);\n};\n\nvar createLocation = exports.createLocation = function createLocation() {\n  var input = arguments.length <= 0 || arguments[0] === undefined ? '/' : arguments[0];\n  var action = arguments.length <= 1 || arguments[1] === undefined ? _Actions.POP : arguments[1];\n  var key = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\n  var object = typeof input === 'string' ? (0, _PathUtils.parsePath)(input) : input;\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(!object.path, 'Location descriptor objects should have a `pathname`, not a `path`.') : void 0;\n\n  var pathname = object.pathname || '/';\n  var search = object.search || '';\n  var hash = object.hash || '';\n  var state = object.state;\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash,\n    state: state,\n    action: action,\n    key: key\n  };\n};\n\nvar isDate = function isDate(object) {\n  return Object.prototype.toString.call(object) === '[object Date]';\n};\n\nvar statesAreEqual = exports.statesAreEqual = function statesAreEqual(a, b) {\n  if (a === b) return true;\n\n  var typeofA = typeof a === 'undefined' ? 'undefined' : _typeof(a);\n  var typeofB = typeof b === 'undefined' ? 'undefined' : _typeof(b);\n\n  if (typeofA !== typeofB) return false;\n\n  !(typeofA !== 'function') ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'You must not store functions in location state') : (0, _invariant2.default)(false) : void 0;\n\n  // Not the same object, but same type.\n  if (typeofA === 'object') {\n    !!(isDate(a) && isDate(b)) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'You must not store Date objects in location state') : (0, _invariant2.default)(false) : void 0;\n\n    if (!Array.isArray(a)) {\n      var keysofA = Object.keys(a);\n      var keysofB = Object.keys(b);\n      return keysofA.length === keysofB.length && keysofA.every(function (key) {\n        return statesAreEqual(a[key], b[key]);\n      });\n    }\n\n    return Array.isArray(b) && a.length === b.length && a.every(function (item, index) {\n      return statesAreEqual(item, b[index]);\n    });\n  }\n\n  // All other serializable types (string, number, boolean)\n  // should be strict equal.\n  return false;\n};\n\nvar locationsAreEqual = exports.locationsAreEqual = function locationsAreEqual(a, b) {\n  return a.key === b.key &&\n  // a.action === b.action && // Different action !== location change.\n  a.pathname === b.pathname && a.search === b.search && a.hash === b.hash && statesAreEqual(a.state, b.state);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/LocationUtils.js","'use strict';\n\nexports.__esModule = true;\nexports.createPath = exports.parsePath = exports.getQueryStringValueFromPath = exports.stripQueryStringValueFromPath = exports.addQueryStringValueToPath = undefined;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar addQueryStringValueToPath = exports.addQueryStringValueToPath = function addQueryStringValueToPath(path, key, value) {\n  var _parsePath = parsePath(path);\n\n  var pathname = _parsePath.pathname;\n  var search = _parsePath.search;\n  var hash = _parsePath.hash;\n\n\n  return createPath({\n    pathname: pathname,\n    search: search + (search.indexOf('?') === -1 ? '?' : '&') + key + '=' + value,\n    hash: hash\n  });\n};\n\nvar stripQueryStringValueFromPath = exports.stripQueryStringValueFromPath = function stripQueryStringValueFromPath(path, key) {\n  var _parsePath2 = parsePath(path);\n\n  var pathname = _parsePath2.pathname;\n  var search = _parsePath2.search;\n  var hash = _parsePath2.hash;\n\n\n  return createPath({\n    pathname: pathname,\n    search: search.replace(new RegExp('([?&])' + key + '=[a-zA-Z0-9]+(&?)'), function (match, prefix, suffix) {\n      return prefix === '?' ? prefix : suffix;\n    }),\n    hash: hash\n  });\n};\n\nvar getQueryStringValueFromPath = exports.getQueryStringValueFromPath = function getQueryStringValueFromPath(path, key) {\n  var _parsePath3 = parsePath(path);\n\n  var search = _parsePath3.search;\n\n  var match = search.match(new RegExp('[?&]' + key + '=([a-zA-Z0-9]+)'));\n  return match && match[1];\n};\n\nvar extractPath = function extractPath(string) {\n  var match = string.match(/^(https?:)?\\/\\/[^\\/]*/);\n  return match == null ? string : string.substring(match[0].length);\n};\n\nvar parsePath = exports.parsePath = function parsePath(path) {\n  var pathname = extractPath(path);\n  var search = '';\n  var hash = '';\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(path === pathname, 'A path must be pathname + search + hash only, not a full URL like \"%s\"', path) : void 0;\n\n  var hashIndex = pathname.indexOf('#');\n  if (hashIndex !== -1) {\n    hash = pathname.substring(hashIndex);\n    pathname = pathname.substring(0, hashIndex);\n  }\n\n  var searchIndex = pathname.indexOf('?');\n  if (searchIndex !== -1) {\n    search = pathname.substring(searchIndex);\n    pathname = pathname.substring(0, searchIndex);\n  }\n\n  if (pathname === '') pathname = '/';\n\n  return {\n    pathname: pathname,\n    search: search,\n    hash: hash\n  };\n};\n\nvar createPath = exports.createPath = function createPath(location) {\n  if (location == null || typeof location === 'string') return location;\n\n  var basename = location.basename;\n  var pathname = location.pathname;\n  var search = location.search;\n  var hash = location.hash;\n\n  var path = (basename || '') + pathname;\n\n  if (search && search !== '?') path += search;\n\n  if (hash) path += hash;\n\n  return path;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/PathUtils.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar useBasename = function useBasename(createHistory) {\n  return function () {\n    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n    var history = createHistory(options);\n    var basename = options.basename;\n\n\n    var addBasename = function addBasename(location) {\n      if (!location) return location;\n\n      if (basename && location.basename == null) {\n        if (location.pathname.indexOf(basename) === 0) {\n          location.pathname = location.pathname.substring(basename.length);\n          location.basename = basename;\n\n          if (location.pathname === '') location.pathname = '/';\n        } else {\n          location.basename = '';\n        }\n      }\n\n      return location;\n    };\n\n    var prependBasename = function prependBasename(location) {\n      if (!basename) return location;\n\n      var object = typeof location === 'string' ? (0, _PathUtils.parsePath)(location) : location;\n      var pname = object.pathname;\n      var normalizedBasename = basename.slice(-1) === '/' ? basename : basename + '/';\n      var normalizedPathname = pname.charAt(0) === '/' ? pname.slice(1) : pname;\n      var pathname = normalizedBasename + normalizedPathname;\n\n      return _extends({}, object, {\n        pathname: pathname\n      });\n    };\n\n    // Override all read methods with basename-aware versions.\n    var getCurrentLocation = function getCurrentLocation() {\n      return addBasename(history.getCurrentLocation());\n    };\n\n    var listenBefore = function listenBefore(hook) {\n      return history.listenBefore(function (location, callback) {\n        return (0, _runTransitionHook2.default)(hook, addBasename(location), callback);\n      });\n    };\n\n    var listen = function listen(listener) {\n      return history.listen(function (location) {\n        return listener(addBasename(location));\n      });\n    };\n\n    // Override all write methods with basename-aware versions.\n    var push = function push(location) {\n      return history.push(prependBasename(location));\n    };\n\n    var replace = function replace(location) {\n      return history.replace(prependBasename(location));\n    };\n\n    var createPath = function createPath(location) {\n      return history.createPath(prependBasename(location));\n    };\n\n    var createHref = function createHref(location) {\n      return history.createHref(prependBasename(location));\n    };\n\n    var createLocation = function createLocation(location) {\n      for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        args[_key - 1] = arguments[_key];\n      }\n\n      return addBasename(history.createLocation.apply(history, [prependBasename(location)].concat(args)));\n    };\n\n    return _extends({}, history, {\n      getCurrentLocation: getCurrentLocation,\n      listenBefore: listenBefore,\n      listen: listen,\n      push: push,\n      replace: replace,\n      createPath: createPath,\n      createHref: createHref,\n      createLocation: createLocation\n    });\n  };\n};\n\nexports.default = useBasename;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/useBasename.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nvar _Actions = require('./Actions');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createStateStorage = function createStateStorage(entries) {\n  return entries.filter(function (entry) {\n    return entry.state;\n  }).reduce(function (memo, entry) {\n    memo[entry.key] = entry.state;\n    return memo;\n  }, {});\n};\n\nvar createMemoryHistory = function createMemoryHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  if (Array.isArray(options)) {\n    options = { entries: options };\n  } else if (typeof options === 'string') {\n    options = { entries: [options] };\n  }\n\n  var getCurrentLocation = function getCurrentLocation() {\n    var entry = entries[current];\n    var path = (0, _PathUtils.createPath)(entry);\n\n    var key = void 0,\n        state = void 0;\n    if (entry.key) {\n      key = entry.key;\n      state = readState(key);\n    }\n\n    var init = (0, _PathUtils.parsePath)(path);\n\n    return (0, _LocationUtils.createLocation)(_extends({}, init, { state: state }), undefined, key);\n  };\n\n  var canGo = function canGo(n) {\n    var index = current + n;\n    return index >= 0 && index < entries.length;\n  };\n\n  var go = function go(n) {\n    if (!n) return;\n\n    if (!canGo(n)) {\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'Cannot go(%s) there is not enough history', n) : void 0;\n\n      return;\n    }\n\n    current += n;\n    var currentLocation = getCurrentLocation();\n\n    // Change action to POP\n    history.transitionTo(_extends({}, currentLocation, { action: _Actions.POP }));\n  };\n\n  var pushLocation = function pushLocation(location) {\n    current += 1;\n\n    if (current < entries.length) entries.splice(current);\n\n    entries.push(location);\n\n    saveState(location.key, location.state);\n  };\n\n  var replaceLocation = function replaceLocation(location) {\n    entries[current] = location;\n    saveState(location.key, location.state);\n  };\n\n  var history = (0, _createHistory2.default)(_extends({}, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: go\n  }));\n\n  var _options = options;\n  var entries = _options.entries;\n  var current = _options.current;\n\n\n  if (typeof entries === 'string') {\n    entries = [entries];\n  } else if (!Array.isArray(entries)) {\n    entries = ['/'];\n  }\n\n  entries = entries.map(function (entry) {\n    return (0, _LocationUtils.createLocation)(entry);\n  });\n\n  if (current == null) {\n    current = entries.length - 1;\n  } else {\n    !(current >= 0 && current < entries.length) ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Current index must be >= 0 and < %s, was %s', entries.length, current) : (0, _invariant2.default)(false) : void 0;\n  }\n\n  var storage = createStateStorage(entries);\n\n  var saveState = function saveState(key, state) {\n    return storage[key] = state;\n  };\n\n  var readState = function readState(key) {\n    return storage[key];\n  };\n\n  return _extends({}, history, {\n    canGo: canGo\n  });\n};\n\nexports.default = createMemoryHistory;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/createMemoryHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _AsyncUtils = require('./AsyncUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _runTransitionHook = require('./runTransitionHook');\n\nvar _runTransitionHook2 = _interopRequireDefault(_runTransitionHook);\n\nvar _Actions = require('./Actions');\n\nvar _LocationUtils = require('./LocationUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar createHistory = function createHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n  var getCurrentLocation = options.getCurrentLocation;\n  var getUserConfirmation = options.getUserConfirmation;\n  var pushLocation = options.pushLocation;\n  var replaceLocation = options.replaceLocation;\n  var go = options.go;\n  var keyLength = options.keyLength;\n\n\n  var currentLocation = void 0;\n  var pendingLocation = void 0;\n  var beforeListeners = [];\n  var listeners = [];\n  var allKeys = [];\n\n  var getCurrentIndex = function getCurrentIndex() {\n    if (pendingLocation && pendingLocation.action === _Actions.POP) return allKeys.indexOf(pendingLocation.key);\n\n    if (currentLocation) return allKeys.indexOf(currentLocation.key);\n\n    return -1;\n  };\n\n  var updateLocation = function updateLocation(nextLocation) {\n    var currentIndex = getCurrentIndex();\n\n    currentLocation = nextLocation;\n\n    if (currentLocation.action === _Actions.PUSH) {\n      allKeys = [].concat(allKeys.slice(0, currentIndex + 1), [currentLocation.key]);\n    } else if (currentLocation.action === _Actions.REPLACE) {\n      allKeys[currentIndex] = currentLocation.key;\n    }\n\n    listeners.forEach(function (listener) {\n      return listener(currentLocation);\n    });\n  };\n\n  var listenBefore = function listenBefore(listener) {\n    beforeListeners.push(listener);\n\n    return function () {\n      return beforeListeners = beforeListeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var listen = function listen(listener) {\n    listeners.push(listener);\n\n    return function () {\n      return listeners = listeners.filter(function (item) {\n        return item !== listener;\n      });\n    };\n  };\n\n  var confirmTransitionTo = function confirmTransitionTo(location, callback) {\n    (0, _AsyncUtils.loopAsync)(beforeListeners.length, function (index, next, done) {\n      (0, _runTransitionHook2.default)(beforeListeners[index], location, function (result) {\n        return result != null ? done(result) : next();\n      });\n    }, function (message) {\n      if (getUserConfirmation && typeof message === 'string') {\n        getUserConfirmation(message, function (ok) {\n          return callback(ok !== false);\n        });\n      } else {\n        callback(message !== false);\n      }\n    });\n  };\n\n  var transitionTo = function transitionTo(nextLocation) {\n    if (currentLocation && (0, _LocationUtils.locationsAreEqual)(currentLocation, nextLocation) || pendingLocation && (0, _LocationUtils.locationsAreEqual)(pendingLocation, nextLocation)) return; // Nothing to do\n\n    pendingLocation = nextLocation;\n\n    confirmTransitionTo(nextLocation, function (ok) {\n      if (pendingLocation !== nextLocation) return; // Transition was interrupted during confirmation\n\n      pendingLocation = null;\n\n      if (ok) {\n        // Treat PUSH to same path like REPLACE to be consistent with browsers\n        if (nextLocation.action === _Actions.PUSH) {\n          var prevPath = (0, _PathUtils.createPath)(currentLocation);\n          var nextPath = (0, _PathUtils.createPath)(nextLocation);\n\n          if (nextPath === prevPath && (0, _LocationUtils.statesAreEqual)(currentLocation.state, nextLocation.state)) nextLocation.action = _Actions.REPLACE;\n        }\n\n        if (nextLocation.action === _Actions.POP) {\n          updateLocation(nextLocation);\n        } else if (nextLocation.action === _Actions.PUSH) {\n          if (pushLocation(nextLocation) !== false) updateLocation(nextLocation);\n        } else if (nextLocation.action === _Actions.REPLACE) {\n          if (replaceLocation(nextLocation) !== false) updateLocation(nextLocation);\n        }\n      } else if (currentLocation && nextLocation.action === _Actions.POP) {\n        var prevIndex = allKeys.indexOf(currentLocation.key);\n        var nextIndex = allKeys.indexOf(nextLocation.key);\n\n        if (prevIndex !== -1 && nextIndex !== -1) go(prevIndex - nextIndex); // Restore the URL\n      }\n    });\n  };\n\n  var push = function push(input) {\n    return transitionTo(createLocation(input, _Actions.PUSH));\n  };\n\n  var replace = function replace(input) {\n    return transitionTo(createLocation(input, _Actions.REPLACE));\n  };\n\n  var goBack = function goBack() {\n    return go(-1);\n  };\n\n  var goForward = function goForward() {\n    return go(1);\n  };\n\n  var createKey = function createKey() {\n    return Math.random().toString(36).substr(2, keyLength || 6);\n  };\n\n  var createHref = function createHref(location) {\n    return (0, _PathUtils.createPath)(location);\n  };\n\n  var createLocation = function createLocation(location, action) {\n    var key = arguments.length <= 2 || arguments[2] === undefined ? createKey() : arguments[2];\n    return (0, _LocationUtils.createLocation)(location, action, key);\n  };\n\n  return {\n    getCurrentLocation: getCurrentLocation,\n    listenBefore: listenBefore,\n    listen: listen,\n    transitionTo: transitionTo,\n    push: push,\n    replace: replace,\n    go: go,\n    goBack: goBack,\n    goForward: goForward,\n    createKey: createKey,\n    createPath: _PathUtils.createPath,\n    createHref: createHref,\n    createLocation: createLocation\n  };\n};\n\nexports.default = createHistory;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/createHistory.js","\"use strict\";\n\nexports.__esModule = true;\nvar loopAsync = exports.loopAsync = function loopAsync(turns, work, callback) {\n  var currentTurn = 0,\n      isDone = false;\n  var isSync = false,\n      hasNext = false,\n      doneArgs = void 0;\n\n  var done = function done() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    isDone = true;\n\n    if (isSync) {\n      // Iterate instead of recursing if possible.\n      doneArgs = args;\n      return;\n    }\n\n    callback.apply(undefined, args);\n  };\n\n  var next = function next() {\n    if (isDone) return;\n\n    hasNext = true;\n\n    if (isSync) return; // Iterate instead of recursing if possible.\n\n    isSync = true;\n\n    while (!isDone && currentTurn < turns && hasNext) {\n      hasNext = false;\n      work(currentTurn++, next, done);\n    }\n\n    isSync = false;\n\n    if (isDone) {\n      // This means the loop finished synchronously.\n      callback.apply(undefined, doneArgs);\n      return;\n    }\n\n    if (currentTurn >= turns && hasNext) {\n      isDone = true;\n      callback();\n    }\n  };\n\n  next();\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/AsyncUtils.js","'use strict';\n\nexports.__esModule = true;\nexports.default = useRouterHistory;\n\nvar _useQueries = require('history/lib/useQueries');\n\nvar _useQueries2 = _interopRequireDefault(_useQueries);\n\nvar _useBasename = require('history/lib/useBasename');\n\nvar _useBasename2 = _interopRequireDefault(_useBasename);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction useRouterHistory(createHistory) {\n  return function (options) {\n    var history = (0, _useQueries2.default)((0, _useBasename2.default)(createHistory))(options);\n    return history;\n  };\n}\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/useRouterHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _RouterContext = require('./RouterContext');\n\nvar _RouterContext2 = _interopRequireDefault(_RouterContext);\n\nvar _routerWarning = require('./routerWarning');\n\nvar _routerWarning2 = _interopRequireDefault(_routerWarning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  if (process.env.NODE_ENV !== 'production') {\n    middlewares.forEach(function (middleware, index) {\n      process.env.NODE_ENV !== 'production' ? (0, _routerWarning2.default)(middleware.renderRouterContext || middleware.renderRouteComponent, 'The middleware specified at index ' + index + ' does not appear to be ' + 'a valid React Router middleware.') : void 0;\n    });\n  }\n\n  var withContext = middlewares.map(function (middleware) {\n    return middleware.renderRouterContext;\n  }).filter(Boolean);\n  var withComponent = middlewares.map(function (middleware) {\n    return middleware.renderRouteComponent;\n  }).filter(Boolean);\n\n  var makeCreateElement = function makeCreateElement() {\n    var baseCreateElement = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _react.createElement;\n    return function (Component, props) {\n      return withComponent.reduceRight(function (previous, renderRouteComponent) {\n        return renderRouteComponent(previous, props);\n      }, baseCreateElement(Component, props));\n    };\n  };\n\n  return function (renderProps) {\n    return withContext.reduceRight(function (previous, renderRouterContext) {\n      return renderRouterContext(previous, renderProps);\n    }, _react2.default.createElement(_RouterContext2.default, _extends({}, renderProps, {\n      createElement: makeCreateElement(renderProps.createElement)\n    })));\n  };\n};\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/applyRouterMiddleware.js","'use strict';\n\nexports.__esModule = true;\n\nvar _createBrowserHistory = require('history/lib/createBrowserHistory');\n\nvar _createBrowserHistory2 = _interopRequireDefault(_createBrowserHistory);\n\nvar _createRouterHistory = require('./createRouterHistory');\n\nvar _createRouterHistory2 = _interopRequireDefault(_createRouterHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _createRouterHistory2.default)(_createBrowserHistory2.default);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/browserHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _BrowserProtocol = require('./BrowserProtocol');\n\nvar BrowserProtocol = _interopRequireWildcard(_BrowserProtocol);\n\nvar _RefreshProtocol = require('./RefreshProtocol');\n\nvar RefreshProtocol = _interopRequireWildcard(_RefreshProtocol);\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Creates and returns a history object that uses HTML5's history API\n * (pushState, replaceState, and the popstate event) to manage history.\n * This is the recommended method of managing history in browsers because\n * it provides the cleanest URLs.\n *\n * Note: In browsers that do not support the HTML5 history API full\n * page reloads will be used to preserve clean URLs. You can force this\n * behavior using { forceRefresh: true } in options.\n */\nvar createBrowserHistory = function createBrowserHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Browser history needs a DOM') : (0, _invariant2.default)(false) : void 0;\n\n  var useRefresh = options.forceRefresh || !(0, _DOMUtils.supportsHistory)();\n  var Protocol = useRefresh ? RefreshProtocol : BrowserProtocol;\n\n  var getUserConfirmation = Protocol.getUserConfirmation;\n  var getCurrentLocation = Protocol.getCurrentLocation;\n  var pushLocation = Protocol.pushLocation;\n  var replaceLocation = Protocol.replaceLocation;\n  var go = Protocol.go;\n\n\n  var history = (0, _createHistory2.default)(_extends({\n    getUserConfirmation: getUserConfirmation }, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: go\n  }));\n\n  var listenerCount = 0,\n      stopListener = void 0;\n\n  var startListener = function startListener(listener, before) {\n    if (++listenerCount === 1) stopListener = BrowserProtocol.startListener(history.transitionTo);\n\n    var unlisten = before ? history.listenBefore(listener) : history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopListener();\n    };\n  };\n\n  var listenBefore = function listenBefore(listener) {\n    return startListener(listener, true);\n  };\n\n  var listen = function listen(listener) {\n    return startListener(listener, false);\n  };\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen\n  });\n};\n\nexports.default = createBrowserHistory;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/createBrowserHistory.js","'use strict';\n\nexports.__esModule = true;\nvar canUseDOM = exports.canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/ExecutionEnvironment.js","'use strict';\n\nexports.__esModule = true;\nexports.go = exports.replaceLocation = exports.pushLocation = exports.startListener = exports.getUserConfirmation = exports.getCurrentLocation = undefined;\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _PathUtils = require('./PathUtils');\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar PopStateEvent = 'popstate';\nvar HashChangeEvent = 'hashchange';\n\nvar needsHashchangeListener = _ExecutionEnvironment.canUseDOM && !(0, _DOMUtils.supportsPopstateOnHashchange)();\n\nvar _createLocation = function _createLocation(historyState) {\n  var key = historyState && historyState.key;\n\n  return (0, _LocationUtils.createLocation)({\n    pathname: window.location.pathname,\n    search: window.location.search,\n    hash: window.location.hash,\n    state: key ? (0, _DOMStateStorage.readState)(key) : undefined\n  }, undefined, key);\n};\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation() {\n  var historyState = void 0;\n  try {\n    historyState = window.history.state || {};\n  } catch (error) {\n    // IE 11 sometimes throws when accessing window.history.state\n    // See https://github.com/ReactTraining/history/pull/289\n    historyState = {};\n  }\n\n  return _createLocation(historyState);\n};\n\nvar getUserConfirmation = exports.getUserConfirmation = function getUserConfirmation(message, callback) {\n  return callback(window.confirm(message));\n}; // eslint-disable-line no-alert\n\nvar startListener = exports.startListener = function startListener(listener) {\n  var handlePopState = function handlePopState(event) {\n    if (event.state !== undefined) // Ignore extraneous popstate events in WebKit\n      listener(_createLocation(event.state));\n  };\n\n  (0, _DOMUtils.addEventListener)(window, PopStateEvent, handlePopState);\n\n  var handleUnpoppedHashChange = function handleUnpoppedHashChange() {\n    return listener(getCurrentLocation());\n  };\n\n  if (needsHashchangeListener) {\n    (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n  }\n\n  return function () {\n    (0, _DOMUtils.removeEventListener)(window, PopStateEvent, handlePopState);\n\n    if (needsHashchangeListener) {\n      (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleUnpoppedHashChange);\n    }\n  };\n};\n\nvar updateLocation = function updateLocation(location, updateState) {\n  var state = location.state;\n  var key = location.key;\n\n\n  if (state !== undefined) (0, _DOMStateStorage.saveState)(key, state);\n\n  updateState({ key: key }, (0, _PathUtils.createPath)(location));\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.pushState(state, null, path);\n  });\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location) {\n  return updateLocation(location, function (state, path) {\n    return window.history.replaceState(state, null, path);\n  });\n};\n\nvar go = exports.go = function go(n) {\n  if (n) window.history.go(n);\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/BrowserProtocol.js","'use strict';\n\nexports.__esModule = true;\nvar addEventListener = exports.addEventListener = function addEventListener(node, event, listener) {\n  return node.addEventListener ? node.addEventListener(event, listener, false) : node.attachEvent('on' + event, listener);\n};\n\nvar removeEventListener = exports.removeEventListener = function removeEventListener(node, event, listener) {\n  return node.removeEventListener ? node.removeEventListener(event, listener, false) : node.detachEvent('on' + event, listener);\n};\n\n/**\n * Returns true if the HTML5 history API is supported. Taken from Modernizr.\n *\n * https://github.com/Modernizr/Modernizr/blob/master/LICENSE\n * https://github.com/Modernizr/Modernizr/blob/master/feature-detects/history.js\n * changed to avoid false negatives for Windows Phones: https://github.com/reactjs/react-router/issues/586\n */\nvar supportsHistory = exports.supportsHistory = function supportsHistory() {\n  var ua = window.navigator.userAgent;\n\n  if ((ua.indexOf('Android 2.') !== -1 || ua.indexOf('Android 4.0') !== -1) && ua.indexOf('Mobile Safari') !== -1 && ua.indexOf('Chrome') === -1 && ua.indexOf('Windows Phone') === -1) return false;\n\n  return window.history && 'pushState' in window.history;\n};\n\n/**\n * Returns false if using go(n) with hash history causes a full page reload.\n */\nvar supportsGoWithoutReloadUsingHash = exports.supportsGoWithoutReloadUsingHash = function supportsGoWithoutReloadUsingHash() {\n  return window.navigator.userAgent.indexOf('Firefox') === -1;\n};\n\n/**\n * Returns true if browser fires popstate on hash change.\n * IE10 and IE11 do not.\n */\nvar supportsPopstateOnHashchange = exports.supportsPopstateOnHashchange = function supportsPopstateOnHashchange() {\n  return window.navigator.userAgent.indexOf('Trident') === -1;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/DOMUtils.js","'use strict';\n\nexports.__esModule = true;\nexports.readState = exports.saveState = undefined;\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar QuotaExceededErrors = {\n  QuotaExceededError: true,\n  QUOTA_EXCEEDED_ERR: true\n};\n\nvar SecurityErrors = {\n  SecurityError: true\n};\n\nvar KeyPrefix = '@@History/';\n\nvar createKey = function createKey(key) {\n  return KeyPrefix + key;\n};\n\nvar saveState = exports.saveState = function saveState(key, state) {\n  if (!window.sessionStorage) {\n    // Session storage is not available or hidden.\n    // sessionStorage is undefined in Internet Explorer when served via file protocol.\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, '[history] Unable to save state; sessionStorage is not available') : void 0;\n\n    return;\n  }\n\n  try {\n    if (state == null) {\n      window.sessionStorage.removeItem(createKey(key));\n    } else {\n      window.sessionStorage.setItem(createKey(key), JSON.stringify(state));\n    }\n  } catch (error) {\n    if (SecurityErrors[error.name]) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, '[history] Unable to save state; sessionStorage is not available due to security settings') : void 0;\n\n      return;\n    }\n\n    if (QuotaExceededErrors[error.name] && window.sessionStorage.length === 0) {\n      // Safari \"private mode\" throws QuotaExceededError.\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, '[history] Unable to save state; sessionStorage is not available in Safari private mode') : void 0;\n\n      return;\n    }\n\n    throw error;\n  }\n};\n\nvar readState = exports.readState = function readState(key) {\n  var json = void 0;\n  try {\n    json = window.sessionStorage.getItem(createKey(key));\n  } catch (error) {\n    if (SecurityErrors[error.name]) {\n      // Blocking cookies in Chrome/Firefox/Safari throws SecurityError on any\n      // attempt to access window.sessionStorage.\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, '[history] Unable to read state; sessionStorage is not available due to security settings') : void 0;\n\n      return undefined;\n    }\n  }\n\n  if (json) {\n    try {\n      return JSON.parse(json);\n    } catch (error) {\n      // Ignore invalid JSON.\n    }\n  }\n\n  return undefined;\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/DOMStateStorage.js","'use strict';\n\nexports.__esModule = true;\nexports.replaceLocation = exports.pushLocation = exports.getCurrentLocation = exports.go = exports.getUserConfirmation = undefined;\n\nvar _BrowserProtocol = require('./BrowserProtocol');\n\nObject.defineProperty(exports, 'getUserConfirmation', {\n  enumerable: true,\n  get: function get() {\n    return _BrowserProtocol.getUserConfirmation;\n  }\n});\nObject.defineProperty(exports, 'go', {\n  enumerable: true,\n  get: function get() {\n    return _BrowserProtocol.go;\n  }\n});\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _PathUtils = require('./PathUtils');\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation() {\n  return (0, _LocationUtils.createLocation)(window.location);\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location) {\n  window.location.href = (0, _PathUtils.createPath)(location);\n  return false; // Don't update location\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location) {\n  window.location.replace((0, _PathUtils.createPath)(location));\n  return false; // Don't update location\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/RefreshProtocol.js","'use strict';\n\nexports.__esModule = true;\n\nexports.default = function (createHistory) {\n  var history = void 0;\n  if (canUseDOM) history = (0, _useRouterHistory2.default)(createHistory)();\n  return history;\n};\n\nvar _useRouterHistory = require('./useRouterHistory');\n\nvar _useRouterHistory2 = _interopRequireDefault(_useRouterHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\n\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/createRouterHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _createHashHistory = require('history/lib/createHashHistory');\n\nvar _createHashHistory2 = _interopRequireDefault(_createHashHistory);\n\nvar _createRouterHistory = require('./createRouterHistory');\n\nvar _createRouterHistory2 = _interopRequireDefault(_createRouterHistory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _createRouterHistory2.default)(_createHashHistory2.default);\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/lib/hashHistory.js","'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _ExecutionEnvironment = require('./ExecutionEnvironment');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _HashProtocol = require('./HashProtocol');\n\nvar HashProtocol = _interopRequireWildcard(_HashProtocol);\n\nvar _createHistory = require('./createHistory');\n\nvar _createHistory2 = _interopRequireDefault(_createHistory);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DefaultQueryKey = '_k';\n\nvar addLeadingSlash = function addLeadingSlash(path) {\n  return path.charAt(0) === '/' ? path : '/' + path;\n};\n\nvar HashPathCoders = {\n  hashbang: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '!' ? path : '!' + path;\n    },\n    decodePath: function decodePath(path) {\n      return path.charAt(0) === '!' ? path.substring(1) : path;\n    }\n  },\n  noslash: {\n    encodePath: function encodePath(path) {\n      return path.charAt(0) === '/' ? path.substring(1) : path;\n    },\n    decodePath: addLeadingSlash\n  },\n  slash: {\n    encodePath: addLeadingSlash,\n    decodePath: addLeadingSlash\n  }\n};\n\nvar createHashHistory = function createHashHistory() {\n  var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n  !_ExecutionEnvironment.canUseDOM ? process.env.NODE_ENV !== 'production' ? (0, _invariant2.default)(false, 'Hash history needs a DOM') : (0, _invariant2.default)(false) : void 0;\n\n  var queryKey = options.queryKey;\n  var hashType = options.hashType;\n\n\n  process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(queryKey !== false, 'Using { queryKey: false } no longer works. Instead, just don\\'t ' + 'use location state if you don\\'t want a key in your URL query string') : void 0;\n\n  if (typeof queryKey !== 'string') queryKey = DefaultQueryKey;\n\n  if (hashType == null) hashType = 'slash';\n\n  if (!(hashType in HashPathCoders)) {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'Invalid hash type: %s', hashType) : void 0;\n\n    hashType = 'slash';\n  }\n\n  var pathCoder = HashPathCoders[hashType];\n\n  var getUserConfirmation = HashProtocol.getUserConfirmation;\n\n\n  var getCurrentLocation = function getCurrentLocation() {\n    return HashProtocol.getCurrentLocation(pathCoder, queryKey);\n  };\n\n  var pushLocation = function pushLocation(location) {\n    return HashProtocol.pushLocation(location, pathCoder, queryKey);\n  };\n\n  var replaceLocation = function replaceLocation(location) {\n    return HashProtocol.replaceLocation(location, pathCoder, queryKey);\n  };\n\n  var history = (0, _createHistory2.default)(_extends({\n    getUserConfirmation: getUserConfirmation }, options, {\n    getCurrentLocation: getCurrentLocation,\n    pushLocation: pushLocation,\n    replaceLocation: replaceLocation,\n    go: HashProtocol.go\n  }));\n\n  var listenerCount = 0,\n      stopListener = void 0;\n\n  var startListener = function startListener(listener, before) {\n    if (++listenerCount === 1) stopListener = HashProtocol.startListener(history.transitionTo, pathCoder, queryKey);\n\n    var unlisten = before ? history.listenBefore(listener) : history.listen(listener);\n\n    return function () {\n      unlisten();\n\n      if (--listenerCount === 0) stopListener();\n    };\n  };\n\n  var listenBefore = function listenBefore(listener) {\n    return startListener(listener, true);\n  };\n\n  var listen = function listen(listener) {\n    return startListener(listener, false);\n  };\n\n  var goIsSupportedWithoutReload = (0, _DOMUtils.supportsGoWithoutReloadUsingHash)();\n\n  var go = function go(n) {\n    process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(goIsSupportedWithoutReload, 'Hash history go(n) causes a full page reload in this browser') : void 0;\n\n    history.go(n);\n  };\n\n  var createHref = function createHref(path) {\n    return '#' + pathCoder.encodePath(history.createHref(path));\n  };\n\n  return _extends({}, history, {\n    listenBefore: listenBefore,\n    listen: listen,\n    go: go,\n    createHref: createHref\n  });\n};\n\nexports.default = createHashHistory;\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/createHashHistory.js","'use strict';\n\nexports.__esModule = true;\nexports.replaceLocation = exports.pushLocation = exports.startListener = exports.getCurrentLocation = exports.go = exports.getUserConfirmation = undefined;\n\nvar _BrowserProtocol = require('./BrowserProtocol');\n\nObject.defineProperty(exports, 'getUserConfirmation', {\n  enumerable: true,\n  get: function get() {\n    return _BrowserProtocol.getUserConfirmation;\n  }\n});\nObject.defineProperty(exports, 'go', {\n  enumerable: true,\n  get: function get() {\n    return _BrowserProtocol.go;\n  }\n});\n\nvar _warning = require('warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nvar _LocationUtils = require('./LocationUtils');\n\nvar _DOMUtils = require('./DOMUtils');\n\nvar _DOMStateStorage = require('./DOMStateStorage');\n\nvar _PathUtils = require('./PathUtils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar HashChangeEvent = 'hashchange';\n\nvar getHashPath = function getHashPath() {\n  // We can't use window.location.hash here because it's not\n  // consistent across browsers - Firefox will pre-decode it!\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  return hashIndex === -1 ? '' : href.substring(hashIndex + 1);\n};\n\nvar pushHashPath = function pushHashPath(path) {\n  return window.location.hash = path;\n};\n\nvar replaceHashPath = function replaceHashPath(path) {\n  var hashIndex = window.location.href.indexOf('#');\n\n  window.location.replace(window.location.href.slice(0, hashIndex >= 0 ? hashIndex : 0) + '#' + path);\n};\n\nvar getCurrentLocation = exports.getCurrentLocation = function getCurrentLocation(pathCoder, queryKey) {\n  var path = pathCoder.decodePath(getHashPath());\n  var key = (0, _PathUtils.getQueryStringValueFromPath)(path, queryKey);\n\n  var state = void 0;\n  if (key) {\n    path = (0, _PathUtils.stripQueryStringValueFromPath)(path, queryKey);\n    state = (0, _DOMStateStorage.readState)(key);\n  }\n\n  var init = (0, _PathUtils.parsePath)(path);\n  init.state = state;\n\n  return (0, _LocationUtils.createLocation)(init, undefined, key);\n};\n\nvar prevLocation = void 0;\n\nvar startListener = exports.startListener = function startListener(listener, pathCoder, queryKey) {\n  var handleHashChange = function handleHashChange() {\n    var path = getHashPath();\n    var encodedPath = pathCoder.encodePath(path);\n\n    if (path !== encodedPath) {\n      // Always be sure we have a properly-encoded hash.\n      replaceHashPath(encodedPath);\n    } else {\n      var currentLocation = getCurrentLocation(pathCoder, queryKey);\n\n      if (prevLocation && currentLocation.key && prevLocation.key === currentLocation.key) return; // Ignore extraneous hashchange events\n\n      prevLocation = currentLocation;\n\n      listener(currentLocation);\n    }\n  };\n\n  // Ensure the hash is encoded properly.\n  var path = getHashPath();\n  var encodedPath = pathCoder.encodePath(path);\n\n  if (path !== encodedPath) replaceHashPath(encodedPath);\n\n  (0, _DOMUtils.addEventListener)(window, HashChangeEvent, handleHashChange);\n\n  return function () {\n    return (0, _DOMUtils.removeEventListener)(window, HashChangeEvent, handleHashChange);\n  };\n};\n\nvar updateLocation = function updateLocation(location, pathCoder, queryKey, updateHash) {\n  var state = location.state;\n  var key = location.key;\n\n\n  var path = pathCoder.encodePath((0, _PathUtils.createPath)(location));\n\n  if (state !== undefined) {\n    path = (0, _PathUtils.addQueryStringValueToPath)(path, queryKey, key);\n    (0, _DOMStateStorage.saveState)(key, state);\n  }\n\n  prevLocation = location;\n\n  updateHash(path);\n};\n\nvar pushLocation = exports.pushLocation = function pushLocation(location, pathCoder, queryKey) {\n  return updateLocation(location, pathCoder, queryKey, function (path) {\n    if (getHashPath() !== path) {\n      pushHashPath(path);\n    } else {\n      process.env.NODE_ENV !== 'production' ? (0, _warning2.default)(false, 'You cannot PUSH the same path using hash history') : void 0;\n    }\n  });\n};\n\nvar replaceLocation = exports.replaceLocation = function replaceLocation(location, pathCoder, queryKey) {\n  return updateLocation(location, pathCoder, queryKey, function (path) {\n    if (getHashPath() !== path) replaceHashPath(path);\n  });\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-router/~/history/lib/HashProtocol.js","import React from 'react'\r\nimport { Link  } from 'react-router'\r\nimport { connect } from 'react-redux'\r\n\r\nimport messages from '../messages'\r\nimport user from '../user'\r\n\r\n\r\nclass App extends React.Component {\r\n\t\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n  \r\n  render() {\r\n\t//prevent render until we have a user,, to prevent permission errors on deep links for logged in users.\r\n\tif(this.props.User === null) return <div>Loading</div>;\r\n    return (\r\n      <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-md-9\"><Link to=\"/\" >Home</Link></div>\r\n            <user.loginStatus />\r\n          </div>\r\n          <messages.messages/>\r\n          {this.props.children}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  let User = state.get(\"User\");\r\n  return {User};\r\n}\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nvar VisibleApp = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App);\r\n\r\nexport default VisibleApp;\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./front/app/index.js","import * as actions from './actions.js'\r\nimport reducer from './reducer.js'\r\n\r\nimport messages from './components/messages.js'\r\n\r\nexport default { actions, reducer, messages };\n\n\n// WEBPACK FOOTER //\n// ./front/messages/index.js","\r\nexport const SET_SUCCESS_MESSAGE = 'MESSAGE_SET_SUCCESS_MESSAGE'\r\n\r\nexport const setSuccess = (message) => {\r\n  return {\r\n    type: SET_SUCCESS_MESSAGE,\r\n    message: message\r\n  }\r\n}\r\n\r\nexport const SET_WARNING_MESSAGE = 'MESSAGE_SET_WARNING_MESSAGE'\r\n\r\nexport const setWarning = (message) => {\r\n  return {\r\n    type:SET_WARNING_MESSAGE,\r\n    message: message\r\n  }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/messages/actions.js","import Immutable from 'immutable'\r\nimport * as a from './actions.js'\r\n\r\n\r\nconst initalMessageState = Immutable.Map();\r\n\r\nexport default function Messages(state = initalMessageState, action) {\r\n  switch(action.type){\r\n\t  \tcase a.SET_WARNING_MESSAGE: return state.set(\"warning\",action.message).set(\"success\",null);\r\n   \t\tcase a.SET_SUCCESS_MESSAGE: return state.set(\"success\",action.message).set(\"warning\",null);     \r\n  }\r\n  return state;\r\n  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/messages/reducer.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Messages extends React.Component{\r\n\t\r\n\tconstructor(props) {\r\n    \tsuper(props);\r\n  \t}\r\n\r\n\trender() {\r\n\t\tconst data = this.props.Messages.toObject();\r\n\r\n\t\tif(data.success)var success = <div className=\"alert alert-success\">{data.success}</div>\r\n\t\tif(data.warning)var warning = <div className=\"alert alert-warning\">{data.warning}</div>\r\n\t\t\r\n\t\tif(!success && !warning)return null;\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t{success}\r\n\t\t\t\t{warning}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  var Messages = state.get(\"Messages\")\r\n  return {Messages};\r\n}\r\n/*\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    doLogin:(credentials) => dispatch(doLogin(credentials))\r\n  }\r\n}\r\n*/\r\n\r\nconst mapDispatchToProps = {};\r\n\r\nvar VisibleMessages = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Messages);\r\n\r\nexport default VisibleMessages;\n\n\n// WEBPACK FOOTER //\n// ./front/messages/components/messages.js","import * as actions from './actions.js'\r\nimport reducer from './reducer.js'\r\n\r\nimport userPage from './components/userPage.js'\r\nimport loginStatus from './components/loginStatus.js'\r\n\r\nexport default { actions, reducer, userPage, loginStatus };\n\n\n// WEBPACK FOOTER //\n// ./front/user/index.js","import fetch from '../fetch.js'\r\nimport { browserHistory } from 'react-router'\r\nimport m from '../messages'\r\n\r\nexport const UPDATE_USER = 'USER_UPDATE_USER'\r\n\r\nexport const getUser = () => {\r\n  return (dispatch) => {\r\n      fetch('/api/user', \"GET\")\r\n      .then(j => dispatch(updateUser(j)));\r\n  }\r\n}\r\n\r\nexport const doLogin = (credentials) => {\r\n    return (dispatch) => {\r\n          fetch('/api/user/login',\"POST\", credentials)\r\n          .then(j => {\r\n                \tdispatch(updateUser(j));\r\n                \tdispatch(m.actions.setSuccess(\"Logged in\"));\r\n                \tbrowserHistory.push('/');\r\n          \t},\r\n\t\t\te => {\r\n              \t\tif(e.status === 401) dispatch(m.actions.setWarning(\"Invalid e-mail or password\"));\r\n         });\r\n    };\r\n} \r\n\r\nexport const doLogout = () => {\r\n    return (dispatch) => {\r\n         fetch('/api/user/logout',\"POST\")\r\n         .then(j => {\r\n              dispatch(updateUser(j));\r\n\t\t\t  dispatch(m.actions.setSuccess(\"Logged out\"));\r\n              browserHistory.push('/');\r\n         });\r\n    };\r\n};\r\n\r\nconst updateUser = user => {\r\n\treturn {type:UPDATE_USER,\r\n\t\t\tuser:user}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/user/actions.js","//Long Story, could use some fixing,,  we should actually do XSFR sometimes\r\n\r\nimport Cookies from 'js-cookie'\r\n\r\nexport default function rfetch(url, method, data) {\r\n\tvar options = {\tmethod:method,\r\n\t\t\t\t\theaders: {  \r\n                  \t\t\"Content-type\": \"application/json; charset=UTF-8\",},\r\n\t\t\t\t\tcredentials: \"same-origin\",\r\n\t\t\t\t\t};\r\n\r\n\tif(method === \"POST\") {\r\n\t\toptions.headers[\"X-XSRF-TOKEN\"] = Cookies.get(\"XSRF-TOKEN\");\r\n\t}\r\n\tif(typeof(data) !== \"undefined\") options.body = JSON.stringify(data);\r\n\r\n\treturn fetch(url, options).then(handleErrors).then(r => r.json());\r\n}\r\n\r\nfunction handleErrors(response) {\r\n    if (!response.ok) {\r\n        return Promise.reject(response);\r\n    }\r\n    return response\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/fetch.js","/*!\n * JavaScript Cookie v2.1.2\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t} else if (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t} else {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api (key, value, attributes) {\n\t\t\tvar result;\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Write\n\n\t\t\tif (arguments.length > 1) {\n\t\t\t\tattributes = extend({\n\t\t\t\t\tpath: '/'\n\t\t\t\t}, api.defaults, attributes);\n\n\t\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\t\tvar expires = new Date();\n\t\t\t\t\texpires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\n\t\t\t\t\tattributes.expires = expires;\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tresult = JSON.stringify(value);\n\t\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\t\tvalue = result;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\n\t\t\t\tif (!converter.write) {\n\t\t\t\t\tvalue = encodeURIComponent(String(value))\n\t\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\t\t\t\t} else {\n\t\t\t\t\tvalue = converter.write(value, key);\n\t\t\t\t}\n\n\t\t\t\tkey = encodeURIComponent(String(key));\n\t\t\t\tkey = key.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent);\n\t\t\t\tkey = key.replace(/[\\(\\)]/g, escape);\n\n\t\t\t\treturn (document.cookie = [\n\t\t\t\t\tkey, '=', value,\n\t\t\t\t\tattributes.expires && '; expires=' + attributes.expires.toUTCString(), // use expires attribute, max-age is not supported by IE\n\t\t\t\t\tattributes.path    && '; path=' + attributes.path,\n\t\t\t\t\tattributes.domain  && '; domain=' + attributes.domain,\n\t\t\t\t\tattributes.secure ? '; secure' : ''\n\t\t\t\t].join(''));\n\t\t\t}\n\n\t\t\t// Read\n\n\t\t\tif (!key) {\n\t\t\t\tresult = {};\n\t\t\t}\n\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all. Also prevents odd result when\n\t\t\t// calling \"get()\"\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar rdecode = /(%[0-9A-Z]{2})+/g;\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = parts[0].replace(rdecode, decodeURIComponent);\n\t\t\t\t\tcookie = converter.read ?\n\t\t\t\t\t\tconverter.read(cookie, name) : converter(cookie, name) ||\n\t\t\t\t\t\tcookie.replace(rdecode, decodeURIComponent);\n\n\t\t\t\t\tif (this.json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tresult = cookie;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!key) {\n\t\t\t\t\t\tresult[name] = cookie;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn result;\n\t\t}\n\n\t\tapi.set = api;\n\t\tapi.get = function (key) {\n\t\t\treturn api(key);\n\t\t};\n\t\tapi.getJSON = function () {\n\t\t\treturn api.apply({\n\t\t\t\tjson: true\n\t\t\t}, [].slice.call(arguments));\n\t\t};\n\t\tapi.defaults = {};\n\n\t\tapi.remove = function (key, attributes) {\n\t\t\tapi(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n\n\n\n// WEBPACK FOOTER //\n// ./~/js-cookie/src/js.cookie.js","import Immutable from 'immutable'\r\nimport * as a from './actions.js'\r\n\r\n//const initalUserState = Immutable.fromJS({id:0, name:\"Guest\", roles:[]});\r\nconst initalUserState = null;\r\n\r\nexport default function User(state = initalUserState, action) {\r\n\t\r\n\tswitch(action.type){\r\n    \tcase a.UPDATE_USER: return Immutable.fromJS(action.user);    \r\n  \t}\r\n\r\n \treturn state;\r\n  \r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/user/reducer.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { doLogin } from '../actions.js'\r\n\r\nclass UserPage extends React.Component{\r\n\t\r\n\trender() {\r\n\t\tconst data = this.props.User.toObject();\r\n\r\n\t\tvar page = data.id === 1 ? <LoginForm doLogin={this.props.doLogin}/> : <UserProfile user={data} />;\r\n\r\n\t\treturn(\r\n\t\t\t<div className=\"row\">\r\n\t\t\t\t{page}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  var {User} = state.toObject();\r\n  return {User};\r\n}\r\n/*\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    doLogin:(credentials) => dispatch(doLogin(credentials))\r\n  }\r\n}\r\n*/\r\n\r\nconst mapDispatchToProps = {doLogin};\r\n\r\nvar VisibleUserPage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(UserPage);\r\n\r\nexport default VisibleUserPage;\r\n\r\nclass LoginForm extends React.Component{\r\n\tconstructor(props) {\r\n    \tsuper(props);\r\n    \tthis.state = {email: \"\",password: \"\"}\r\n    \tthis.updateEmail = this.updateEmail.bind(this);\r\n\t\t\tthis.updatePassword = this.updatePassword.bind(this);\r\n\t\t\tthis.submit = this.submit.bind(this);\r\n  \t}\r\n\t\r\n\tupdateEmail(e) {\r\n\t\tthis.setState({email:e.target.value});\r\n\t}\r\n\t\r\n\tupdatePassword(e) {\r\n\t\tthis.setState({password:e.target.value});\r\n\t}\r\n\t\r\n\tsubmit(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.props.doLogin(this.state);\r\n\t\tthis.setState({password:\"\"});\r\n\t}\r\n\t\r\n\trender() {\r\n\t\treturn(\r\n\t\t<div className=\"col-sm-12\">\r\n\t\t<h3>Log in</h3>\r\n\t\t<form>\r\n\t\t\t<div className=\"form-group\">\r\n \t\t\t   <label for=\"LoginFormEmail\">Email address</label>\r\n  \t\t\t\t<input type=\"email\" value={this.state.email} className=\"form-control\" id=\"LoginFormEmail\" placeholder=\"Email\" onChange={this.updateEmail}/>\r\n  \t\t\t</div>\r\n  \t\t\t<div className=\"form-group\">\r\n    \t\t\t<label for=\"LoginFormPassword\">Password</label>\r\n    \t\t\t<input type=\"password\" value={this.state.password} className=\"form-control\" id=\"LoginFormPassword\" placeholder=\"Password\" onChange={this.updatePassword} />\r\n \t\t\t </div>\r\n\t\t\t  <button type=\"submit\" onClick={this.submit} class=\"btn btn-default\">Submit</button>\r\n\t\t</form>\r\n\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nclass UserProfile extends React.Component{\r\n\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t<p>Logged in as {this.props.user.UserName}, email: {this.props.user.Email} </p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/user/components/userPage.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link  } from 'react-router'\r\n\r\nimport { doLogout } from '../actions.js'\r\n\r\nclass LoginStatus extends React.Component{\r\n\t\r\n\tconstructor(props) {\r\n    \tsuper(props);\r\n\r\n\t\tthis.logout = this.logout.bind(this);\r\n  \t}\r\n\r\n\tlogout(e) {\r\n\t\te.preventDefault();\r\n\t\tthis.props.doLogout();\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst data = this.props.User.toObject();\r\n\r\n\t\tif(data.id == 1)var link = <Link to=\"/user\" >Login</Link>;\r\n\t\telse var link = <a onClick={this.logout} href=\"#\">Logout</a>;\r\n\t\t\r\n\t\treturn(\r\n\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t<p className=\"pull-right\">Logged in as: <b>{data.UserName}</b> ({link})</p>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\t\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  var {User} = state.toObject();\r\n  return {User};\r\n}\r\n/*\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    doLogin:(credentials) => dispatch(doLogin(credentials))\r\n  }\r\n}\r\n*/\r\n\r\nconst mapDispatchToProps = {doLogout};\r\n\r\nvar VisibleLoginStatus = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(LoginStatus);\r\n\r\nexport default VisibleLoginStatus;\n\n\n// WEBPACK FOOTER //\n// ./front/user/components/loginStatus.js","import * as actions from './actions.js'\r\nimport reducer from './reducer.js'\r\n\r\nimport listPage from './components/listPage.js'\r\nimport createPage from './components/createPage.js'\r\nimport editPage from './components/editPage.js'\r\n\r\nexport default { actions, reducer, listPage, createPage, editPage };\n\n\n// WEBPACK FOOTER //\n// ./front/events/index.js","import Immutable from 'immutable'\r\nimport fetch from '../fetch.js'\r\nimport { browserHistory } from 'react-router'\r\nimport m from '../messages'\r\n\r\n//Actions\r\n\r\n\r\n\r\nexport const UPDATE_EVENT = 'EVENT_UPDATE_EVENT';\r\nexport const GET_EVENTS = 'EVENT_GET_EVENTS';\r\n\r\nconst updateEvent = e => {\r\n\treturn {type:UPDATE_EVENT,\r\n\t\t\tkey: e.id,\r\n\t\t\tdata:e};\r\n}\r\n\r\nexport const getEvents = () => {\r\n\treturn (dispatch) => {\r\n\t\tfetch('/api/events',\"GET\")\r\n\t\t.then(j => \r\n\t\t\tdispatch({\r\n\t\t\t\ttype:GET_EVENTS,\r\n\t\t\t\tdata:j\r\n\t\t\t})\r\n\t\t).catch(r => {\r\n\t\t\tconsole.log(r);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const getEvent = (id) => {\r\n\treturn (dispatch) => {\r\n\t\tfetch('/api/event/'+id,\"GET\")\r\n\t\t.then(j => {\r\n\t\t\tdispatch(updateEvent(j));\r\n\t\t}).catch(r => console.log(r));\r\n\t}\r\n}\r\n\r\nexport const saveEvent = event => {\r\n\treturn (dispatch) => {\r\n\t\tfetch('/api/event/edit',\"POST\",event)\r\n\t\t.then(j => {\r\n\t\t\tdispatch(updateEvent(j));\r\n\t\t\tdispatch(m.actions.setSuccess(\"Event Updated\"));\r\n\t\t\tbrowserHistory.push('/');\r\n\t\t}).catch(r => console.log(r));\r\n\t}\r\n\r\n}\r\n\r\nexport const createEvent = event => {\r\n\treturn dispatch => {\r\n\t\tfetch('/api/event/create',\"POST\", event)\r\n\t\t.then(j => {\r\n\t\t\tdispatch({\r\n\t\t\t\ttype:GET_EVENTS,\r\n\t\t\t\tdata:j\r\n\t\t\t});\r\n\t\t\tdispatch(m.actions.setSuccess(\"Event Created\"));\r\n\t\t\tbrowserHistory.push('/');\r\n\t\t}).catch(r => {\r\n\t\t\tconsole.log(r);\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport const deleteEvent = event => {\r\n\treturn dispatch => {\r\n\t\tfetch('/api/event/delete',\"POST\", event)\r\n\t\t.then(() => {\r\n\t\t\tdispatch(m.actions.setSuccess(\"Event Deleted\"));\r\n\t\t\tbrowserHistory.push('/');\r\n\t\t})\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/events/actions.js","import Immutable from 'immutable'\r\nimport * as a from './actions.js'\r\n\r\n\r\n//should Events be a map or list? both suck sometimes..\r\nconst initalEventState = Immutable.fromJS({});\r\n\r\nexport default function Events(state = initalEventState, action) {\r\n\t\r\n\tswitch(action.type){\r\n\t\tcase a.GET_EVENTS: return Immutable.fromJS(action.data);\r\n    \tcase a.UPDATE_EVENT: return state.set(action.key.toString(), Immutable.fromJS(action.data)); \r\n  \t}\r\n \treturn state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/events/reducer.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link  } from 'react-router'\r\nimport { browserHistory } from 'react-router'\r\n\r\nimport { getEvents } from '../actions.js'\r\nimport { showEditLink, showCreateLink } from'../permission.js'\r\n\r\n//Event listing\r\n\r\nclass EventList extends React.Component{\r\n\tconstructor(props) {\r\n    \tsuper(props);\r\n\r\n\tthis.clickCreate = this.clickCreate.bind(this);\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.props.getEvents();\r\n  }\r\n\r\n  clickCreate(e) {\r\n\t  e.preventDefault();\r\n\t  browserHistory.push('/event/create');\r\n  }\r\n\r\n  render() {\r\n\r\n\t  let events = this.props.Events.toSeq().sort((a,b) => a.get(\"StartDate\") - b.get(\"StartDate\")).map((e) => <Event {...e.toObject()} key={e.get(\"id\")}/>).toArray();\r\n\t  return (\r\n\t\t<div className=\"row\">\r\n\t\t  <div className=\"col-md-12\">\r\n\t\t  \t{events}\r\n\t\t  </div>\r\n\t\t  <div className=\"col-md-12\">\r\n\t\t  \t\t<CreateButton clickCreate={this.clickCreate}/>\r\n\t\t  </div>\r\n\t\t</div>)\r\n  }\r\n}\r\n\r\nconst CreateButton = showCreateLink((props) => <button className=\"btn btn-success\" onClick={props.clickCreate}>New Event</button>)\r\n\r\nconst EditLink = showEditLink(Link);\r\n\r\nconst Event = (props) => {\r\n\treturn(<div>\r\n\t\t<EditLink event={props} className=\"pull-right\" to={\"/event/\"+props.id+\"/edit\"}>Edit</EditLink>\r\n\t\t<h1>{props.Name}</h1>\r\n\t\t<h3>{props.StartDate} - {props.EndDate}</h3>\r\n\t\t<p>{props.Description}</p>\r\n\t\t<Link to={\"/event/\"+props.id+\"/book\"}>Book</Link>\r\n\t</div>)}\r\n\r\n\r\n//Connect to redux\r\n\r\nconst mapStateToProps = (state) => {\r\n  var Events = state.get(\"Events\");\r\n  return {Events};\r\n}\r\n\r\nconst mapDispatchToProps = {getEvents};\r\n\r\nvar VisibleEventList = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(EventList);\r\n\r\nexport default VisibleEventList;\n\n\n// WEBPACK FOOTER //\n// ./front/events/components/listPage.js","import { UserAuthWrapper } from 'redux-auth-wrapper'\r\n\r\nimport * as P from '../../shared/permissions.js'\r\n\r\nexport const editEventCheck = UserAuthWrapper({\r\n\tauthSelector: (state, props) => {\r\n\r\n\t\treturn {user: state.get(\"User\"), event: state.getIn([\"Events\",props.params.eventId])}\r\n\t},\r\n\tpredicate: (data) => {\r\n\t\tif(data.event === undefined)return true;\r\n\t\treturn P.editEvent(data.user.toJS(), data.event.toJS());\r\n\t},\r\n\tfailureRedirectPath:\"/user\",\r\n\twrapperDisplayName: \"Edit Event Check\"\r\n});\r\n\r\nexport const createEventCheck = UserAuthWrapper({\r\n\tauthSelector: (state, props) => {\r\n\r\n\t\treturn state.get(\"User\")\r\n\t},\r\n\tpredicate: (data) => {\r\n\r\n\t\treturn P.createEvent(data.toJS());\r\n\t},\r\n\tfailureRedirectPath:\"/user\",\r\n\twrapperDisplayName: \"Create Event Check\"\r\n});\r\n\r\nexport const showEditLink = UserAuthWrapper({\r\n\tauthSelector: (state, props) => {\r\n\r\n\t\treturn {user: state.get(\"User\"), event: props.event}\r\n\t},\r\n\tpredicate: (data) => {\r\n\t\treturn P.editEvent(data.user.toJS(), data.event);\r\n\t},\r\n\tFailureComponent: null,\r\n\twrapperDisplayName: \"showEventLink\"\r\n});\r\n\r\nexport const showCreateLink = UserAuthWrapper({\r\n\tauthSelector: (state) => {\r\n\t\treturn state.get(\"User\")\r\n\t},\r\n\tpredicate: (data) => {\r\n\t\treturn P.createEvent(data.toJS());\r\n\t},\r\n\tFailureComponent: null,\r\n\twrapperDisplayName: \"showEventLink\"\r\n});\n\n\n// WEBPACK FOOTER //\n// ./front/events/permission.js","//shared permission checks\r\n//These may get narly as need to work with both the plain JS user objects and sequalise instance?\r\nlet permissions = {}\r\n\r\npermissions.editEvent = (user, event) => {\r\n\tif(user.roles.find(role => role.Name === \"admin\"))return true //admin can always\r\n\treturn user.id === event.userId\r\n}\r\n\r\npermissions.createEvent = user => {\r\n\t\tif(user.roles.find(role => role.Name === \"admin\"))return true //admin can always\r\n\t\treturn false;\r\n} \r\n\r\nmodule.exports = permissions;\n\n\n// WEBPACK FOOTER //\n// ./shared/permissions.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link  } from 'react-router'\r\nimport Moment from 'moment'\r\n\r\n\r\nimport EventForm from './eventForm.js'\r\nimport { createEventCheck } from '../permission.js'\r\nimport { createEvent } from '../actions.js'\r\n\r\nclass CreatePage extends React.Component{\r\n\t\r\n\tconstructor(props) {\r\n      super(props);\r\n\r\n\t  this.saveEvent = this.saveEvent.bind(this);\r\n    }\r\n\r\n\tsaveEvent(e) {\r\n\t\tthis.props.createEvent(e);\r\n\t}\r\n\r\n\trender() {\r\n\t\t//const data = this.props.user.toObject();\r\n\r\n\t\tlet event = {\r\n\t\t\tid:null,\r\n\t\t\tName:'',\r\n\t\t\tDescription:'',\r\n\t\t\tStartDate:Moment().format(\"YYYY-MM-DD\"),\r\n\t\t\tEndDate:Moment().format(\"YYYY-MM-DD\"),\r\n\t\t\tBookingDeadline:Moment().format(\"YYYY-MM-DD\"),\r\n\t\t\tAllowGuestBookings:false\r\n\t\t}\r\n\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t\t\t<h3>New Event</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<EventForm event={event} new={true} saveEvent={this.saveEvent}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  //var Events = state.getIn([\"Data\",\"Events\"]);\r\n // return {Events};\r\n return {}\r\n}\r\n\r\nconst mapDispatchToProps = {createEvent};\r\n\r\nvar VisibleCreatePage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(createEventCheck(CreatePage));\r\n\r\nexport default VisibleCreatePage;\n\n\n// WEBPACK FOOTER //\n// ./front/events/components/createPage.js","import React from 'react'\r\nimport Moment from 'moment'\r\nimport Switch from 'react-toggle'\r\n\r\nexport default class EditForm extends React.Component {\r\n\r\n\tconstructor(props) {\r\n      super(props);\r\n\r\n      this.state = this.props.event;\r\n\t  this.state.delete = false;\r\n\r\n\t  this.updateName = this.updateName.bind(this);\r\n\t  this.updateDescription = this.updateDescription.bind(this);\r\n\t  this.updateStartDate = this.updateStartDate.bind(this);\r\n\t  this.updateEndDate = this.updateEndDate.bind(this);\r\n\t  this.updateBookingDeadline = this.updateBookingDeadline.bind(this);\r\n\r\n\t  this.clickRevert = this.clickRevert.bind(this);\r\n\t  this.clickDeleteLock = this.clickDeleteLock.bind(this);\r\n\t  this.clickDelete = this.clickDelete.bind(this);\r\n\t  this.clickSave = this.clickSave.bind(this);\r\n    }\r\n\r\n\tupdateName(e) {\r\n\t\tthis.setState({Name:e.target.value})\r\n\t}\r\n\r\n\tupdateDescription(e) {\r\n\t\tthis.setState({Description:e.target.value})\r\n\t}\r\n\r\n\tupdateStartDate(e) {\r\n\t\tthis.setState({StartDate:e.target.value})\r\n\t}\r\n\r\n\tupdateEndDate(e) {\r\n\t\tthis.setState({EndDate:e.target.value})\r\n\t}\r\n\r\n\tupdateBookingDeadline(e) {\r\n\t\tthis.setState({BookingDeadline:e.target.value})\r\n\t}\r\n\r\n\tclickRevert(e) {\r\n\t\tthis.setState(this.props.event);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tclickDeleteLock(e) {\r\n\t\tthis.setState({delete:!this.state.delete});\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tclickDelete(e) {\r\n\t\tthis.props.deleteEvent({id:this.props.event.id});\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\tclickSave(e) {\r\n\t\tlet event = {\r\n\t\t\tid:this.state.id,\r\n\t\t\tName:this.state.Name,\r\n\t\t\tDescription:this.state.Description,\r\n\t\t\tStartDate:this.state.StartDate,\r\n\t\t\tEndDate:this.state.EndDate,\r\n\t\t\tBookingDeadline:this.state.BookingDeadline,\r\n\t\t\tAllowGuestBookings:this.state.AllowGuestBookings\r\n\t\t}\r\n\r\n\t\tthis.props.saveEvent(event);\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\trender() {\t\r\n\r\n\t\tlet deleteButtons = this.props.new ? null : [<button key=\"deletelock\" type=\"submit\" disabled={!this.state.delete} onClick={this.clickDelete} className=\"btn btn-danger pull-right\">Delete</button>,\r\n\t\t\t\t\t\t\t\t <button key=\"delete\" type=\"submit\" className=\"btn btn-danger pull-right\" onClick={this.clickDeleteLock}><span className=\"glyphicon glyphicon-lock\" aria-hidden=\"true\"></span></button>];\r\n\r\n\t\treturn(<div className=\"col-sm-12\">\r\n\t\t\t\t<form className=\"form-horizontal\">\r\n  \t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Name:</label>\r\n\t\t\t\t\t\t <div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Name\" value={this.state.Name} onChange={this.updateName}/>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t\t<div className=\"form-group\">\r\n    \t\t\t\t\t<label className=\"col-sm-2 control-label\">Description:</label>\r\n    \t\t\t\t\t<div className=\"col-sm-10\">\r\n     \t\t\t\t\t\t<textarea className=\"form-control\" rows=\"5\" value={this.state.Description} onChange={this.updateDescription}></textarea>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Start date:</label>\r\n\t\t\t\t\t\t <div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t<input type=\"date\" className=\"form-control\" value={Moment(this.state.StartDate).format(\"YYYY-MM-DD\")} onChange={this.updateStartDate}/>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">End date:</label>\r\n\t\t\t\t\t\t <div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t<input type=\"date\" className=\"form-control\" value={Moment(this.state.EndDate).format(\"YYYY-MM-DD\")} onChange={this.updateEndDate}/>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Booking Deadline:</label>\r\n\t\t\t\t\t\t <div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t<input type=\"date\" className=\"form-control\" value={Moment(this.state.BookingDeadline).format(\"YYYY-MM-DD\")} onChange={this.updateBookingDeadline}/>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Allow Guest Bookings:</label>\r\n\t\t\t\t\t\t <div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t<Switch checked={this.state.AllowGuestBookings} onChange={() => this.setState({AllowGuestBookings:!this.state.AllowGuestBookings})}  value='yes'/>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n  \t\t\t\t\t<div className=\"form-group\">\r\n  \t\t\t\t\t\t<div className=\"col-sm-offset-2 col-sm-10\">\r\n\t\t\t\t\t\t  \t <div className=\"btn-toolbar\">\r\n     \t\t\t\t\t\t \t<button type=\"submit\" className=\"btn btn-success\" onClick={this.clickSave}>Save</button>\r\n\t\t\t\t\t\t\t \t<button type=\"submit\" className=\"btn btn-warning\" onClick={this.clickRevert}>Revert</button>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t {deleteButtons}\r\n\t\t\t\t\t\t\t</div>\r\n    \t\t\t\t\t</div>\r\n  \t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t</div>)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/events/components/eventForm.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _check = require('./check');\n\nvar _check2 = _interopRequireDefault(_check);\n\nvar _x = require('./x');\n\nvar _x2 = _interopRequireDefault(_x);\n\nvar _util = require('./util');\n\nvar _reactAddonsShallowCompare = require('react-addons-shallow-compare');\n\nvar _reactAddonsShallowCompare2 = _interopRequireDefault(_reactAddonsShallowCompare);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Toggle = function (_Component) {\n  _inherits(Toggle, _Component);\n\n  function Toggle(props) {\n    _classCallCheck(this, Toggle);\n\n    var _this = _possibleConstructorReturn(this, (Toggle.__proto__ || Object.getPrototypeOf(Toggle)).call(this, props));\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.handleTouchStart = _this.handleTouchStart.bind(_this);\n    _this.handleTouchMove = _this.handleTouchMove.bind(_this);\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_this);\n    _this.handleFocus = _this.setState.bind(_this, { hasFocus: true }, function () {});\n    _this.handleBlur = _this.setState.bind(_this, { hasFocus: false }, function () {});\n    _this.previouslyChecked = !!(props.checked || props.defaultChecked);\n    _this.state = {\n      checked: !!(props.checked || props.defaultChecked),\n      hasFocus: false\n    };\n    return _this;\n  }\n\n  _createClass(Toggle, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('checked' in nextProps) {\n        this.setState({ checked: !!nextProps.checked });\n      }\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick(event) {\n      var checkbox = this.input;\n      if (event.target !== checkbox && !this.moved) {\n        this.previouslyChecked = checkbox.checked;\n        event.preventDefault();\n        checkbox.focus();\n        checkbox.click();\n        return;\n      }\n\n      this.setState({ checked: checkbox.checked });\n    }\n  }, {\n    key: 'handleTouchStart',\n    value: function handleTouchStart(event) {\n      this.startX = (0, _util.pointerCoord)(event).x;\n      this.activated = true;\n    }\n  }, {\n    key: 'handleTouchMove',\n    value: function handleTouchMove(event) {\n      if (!this.activated) return;\n      this.moved = true;\n\n      if (this.startX) {\n        var currentX = (0, _util.pointerCoord)(event).x;\n        if (this.state.checked && currentX + 15 < this.startX) {\n          this.setState({ checked: false });\n          this.startX = currentX;\n          this.activated = true;\n        } else if (currentX - 15 > this.startX) {\n          this.setState({ checked: true });\n          this.startX = currentX;\n          this.activated = currentX < this.startX + 5;\n        }\n      }\n    }\n  }, {\n    key: 'handleTouchEnd',\n    value: function handleTouchEnd(event) {\n      if (!this.moved) return;\n      var checkbox = this.input;\n      event.preventDefault();\n\n      if (this.startX) {\n        var endX = (0, _util.pointerCoord)(event).x;\n        if (this.previouslyChecked === true && this.startX + 4 > endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: false });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        } else if (this.startX - 4 < endX) {\n          if (this.previouslyChecked !== this.state.checked) {\n            this.setState({ checked: true });\n            this.previouslyChecked = this.state.checked;\n            checkbox.click();\n          }\n        }\n\n        this.activated = false;\n        this.startX = null;\n        this.moved = false;\n      }\n    }\n  }, {\n    key: 'getIcon',\n    value: function getIcon(type) {\n      var icons = this.props.icons;\n\n      if (!icons) {\n        return null;\n      }\n      return icons[type] === undefined ? Toggle.defaultProps.icons[type] : icons[type];\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(nextProps, nextState) {\n      return (0, _reactAddonsShallowCompare2.default)(this, nextProps, nextState);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          className = _props.className,\n          _icons = _props.icons,\n          inputProps = _objectWithoutProperties(_props, ['className', 'icons']);\n\n      var classes = (0, _classnames2.default)('react-toggle', {\n        'react-toggle--checked': this.state.checked,\n        'react-toggle--focus': this.state.hasFocus,\n        'react-toggle--disabled': this.props.disabled\n      }, className);\n\n      return _react2.default.createElement(\n        'div',\n        { className: classes,\n          onClick: this.handleClick,\n          onTouchStart: this.handleTouchStart,\n          onTouchMove: this.handleTouchMove,\n          onTouchEnd: this.handleTouchEnd },\n        _react2.default.createElement(\n          'div',\n          { className: 'react-toggle-track' },\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-check' },\n            this.getIcon('checked')\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'react-toggle-track-x' },\n            this.getIcon('unchecked')\n          )\n        ),\n        _react2.default.createElement('div', { className: 'react-toggle-thumb' }),\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(_ref) {\n            _this2.input = _ref;\n          },\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          className: 'react-toggle-screenreader-only',\n          type: 'checkbox' }))\n      );\n    }\n  }]);\n\n  return Toggle;\n}(_react.Component);\n\nexports.default = Toggle;\n\n\nToggle.displayName = 'Toggle';\n\nToggle.defaultProps = {\n  icons: {\n    checked: _react2.default.createElement(_check2.default, null),\n    unchecked: _react2.default.createElement(_x2.default, null)\n  }\n};\n\nToggle.propTypes = {\n  checked: _react.PropTypes.bool,\n  disabled: _react.PropTypes.bool,\n  defaultChecked: _react.PropTypes.bool,\n  onChange: _react.PropTypes.func,\n  className: _react.PropTypes.string,\n  name: _react.PropTypes.string,\n  value: _react.PropTypes.string,\n  id: _react.PropTypes.string,\n  'aria-labelledby': _react.PropTypes.string,\n  'aria-label': _react.PropTypes.string,\n  icons: _react.PropTypes.oneOfType([_react.PropTypes.bool, _react.PropTypes.shape({\n    checked: _react.PropTypes.node,\n    unchecked: _react.PropTypes.node\n  })])\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-toggle/dist/component/index.js","/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n\n\n\n// WEBPACK FOOTER //\n// ./~/react-toggle/~/classnames/index.js","module.exports = __webpack_amd_options__;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/amd-options.js\n// module id = 381\n// module chunks = 0","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '14', height: '11', viewBox: '0 0 14 11' },\n    _react2.default.createElement(\n      'title',\n      null,\n      'switch-check'\n    ),\n    _react2.default.createElement('path', { d: 'M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0', fill: '#fff', fillRule: 'evenodd' })\n  );\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-toggle/dist/component/check.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function () {\n  return _react2.default.createElement(\n    'svg',\n    { width: '10', height: '10', viewBox: '0 0 10 10' },\n    _react2.default.createElement(\n      'title',\n      null,\n      'switch-x'\n    ),\n    _react2.default.createElement('path', { d: 'M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12', fill: '#fff', fillRule: 'evenodd' })\n  );\n};\n\n\n// WEBPACK FOOTER //\n// ./~/react-toggle/dist/component/x.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.pointerCoord = pointerCoord;\n// Copyright 2015-present Drifty Co.\n// http://drifty.com/\n// from: https://github.com/driftyco/ionic/blob/master/src/util/dom.ts\n\nfunction pointerCoord(event) {\n  // get coordinates for either a mouse click\n  // or a touch depending on the given event\n  if (event) {\n    var changedTouches = event.changedTouches;\n    if (changedTouches && changedTouches.length > 0) {\n      var touch = changedTouches[0];\n      return { x: touch.clientX, y: touch.clientY };\n    }\n    var pageX = event.pageX;\n    if (pageX !== undefined) {\n      return { x: pageX, y: event.pageY };\n    }\n  }\n  return { x: 0, y: 0 };\n}\n\n\n// WEBPACK FOOTER //\n// ./~/react-toggle/dist/component/util.js","module.exports = require('react/lib/shallowCompare');\n\n\n// WEBPACK FOOTER //\n// ./~/react-addons-shallow-compare/index.js","/**\n * Copyright 2013-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n *\n* @providesModule shallowCompare\n*/\n\n'use strict';\n\nvar shallowEqual = require('fbjs/lib/shallowEqual');\n\n/**\n * Does a shallow comparison for props and state.\n * See ReactComponentWithPureRenderMixin\n * See also https://facebook.github.io/react/docs/shallow-compare.html\n */\nfunction shallowCompare(instance, nextProps, nextState) {\n  return !shallowEqual(instance.props, nextProps) || !shallowEqual(instance.state, nextState);\n}\n\nmodule.exports = shallowCompare;\n\n\n// WEBPACK FOOTER //\n// ./~/react/lib/shallowCompare.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link  } from 'react-router'\r\nimport EventForm from './eventForm.js'\r\n\r\nimport { getEvent, saveEvent, deleteEvent } from '../actions.js'\r\nimport { editEventCheck } from '../permission.js'\r\n\r\nclass EditPage extends React.Component {\r\n\t\r\n\trender() {\r\n\t\tif(this.props.Event === undefined)return null;\r\n\r\n\t\tlet event = this.props.Event.toJS();\r\n\t\t//const data = this.props.user.toObject();\r\n\t\treturn(\r\n\t\t\t<div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t\t\t<h3>Edit Event - {event.Name}</h3>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<EventForm event={event} saveEvent={this.props.saveEvent} deleteEvent={this.props.deleteEvent} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\tcomponentWillMount() {\r\n    \tif(this.props.Event === undefined)this.props.getEvent(this.props.params.eventId);\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n  \tvar Event = state.getIn([\"Events\",props.params.eventId]);\r\n \treturn {Event}\r\n}\r\n\r\nconst mapDispatchToProps = {getEvent, saveEvent, deleteEvent};\r\n\r\nvar VisibleEditPage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(editEventCheck(EditPage));\r\n\r\nexport default VisibleEditPage;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./front/events/components/editPage.js","import * as actions from './actions.js'\r\nimport reducer from './reducer.js'\r\n\r\nimport createPage from './components/createPage.js'\r\n\r\n\r\nexport default { actions, reducer, createPage };\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/index.js","import Immutable from 'immutable'\r\nimport fetch from '../fetch.js'\r\nimport { browserHistory } from 'react-router'\r\nimport m from '../messages'\r\n\r\n/*\r\nexport const saveEvent = event => {\r\n\treturn (dispatch) => {\r\n\t\tfetch('/api/event/edit',\"POST\",event)\r\n\t\t.then(j => {\r\n\t\t\tdispatch(updateEvent(j));\r\n\t\t\tdispatch(m.actions.setSuccess(\"Event Updated\"));\r\n\t\t\tbrowserHistory.push('/');\r\n\t\t}).catch(r => console.log(r));\r\n\t}\r\n\r\n}\r\n*/\r\n\r\nexport const UPDATE_QUICK_LIST = 'BOOKING_UPDATE_QUICK_LIST';\r\n\r\nexport const updateQuickList = participants => {\r\n\treturn {type:UPDATE_QUICK_LIST,\r\n\t\t\tparticipants:participants}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/actions.js","import Immutable from 'immutable'\r\nimport * as a from './actions.js'\r\n\r\nconst initalBookingsState = Immutable.fromJS({quickList:[]});\r\n\r\nexport default function Bookings(state = initalBookingsState, action) {\r\n\t\r\n\tswitch(action.type){\r\n\t\tcase a.UPDATE_QUICK_LIST: return state.set(\"quickList\",Immutable.fromJS(action.participants));\r\n\t\t//case a.GET_EVENTS: return Immutable.fromJS(action.data);\r\n    \t//case a.UPDATE_EVENT: return state.set(action.key.toString(), Immutable.fromJS(action.data)); \r\n  \t}\r\n \treturn state;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/reducer.js","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link  } from 'react-router'\r\n\r\n\r\nimport event from '../../events'\r\nimport BookingForm from './bookingForm.js'\r\nimport ParticipantQuickList from './participantQuickList.js'\r\nimport { updateQuickList } from '../actions.js'\r\n\r\n\r\nclass CreatePage extends React.Component{\r\n\t\r\n\trender() {\r\n\t\t\r\n\t\tif(this.props.Event === undefined)return null;\r\n\r\n\t\tconst event = this.props.Event.toJS();\r\n\t\tconst user = this.props.User.toJS();\r\n\t\tconst quickList = this.props.QuickList.toJS();\r\n\t\t//const data = this.props.user.toObject();\r\n\t\treturn(<div> \r\n\t\t\t\t\t<div className=\"row\" style={{display:\"flex\"}}>\r\n\t\t\t\t\t\t<div className=\"col-sm-12 col-md-10\">\r\n\t\t\t\t\t\t\t<h3>Booking for {event.Name}</h3>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t<BookingForm user={user} event={event} updateQuickList={this.props.updateQuickList}/>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<ParticipantQuickList quickList={quickList}/>\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t)\r\n\t}\r\n\r\n\t\r\n\tcomponentWillMount() {\r\n    \tif(this.props.Event === undefined)this.props.getEvent(this.props.params.eventId);\r\n  \t}\r\n}\r\n\r\nconst mapStateToProps = (state, props) => {\r\n\tlet User = state.get(\"User\");\r\n  \tlet Event = state.getIn([\"Events\", props.params.eventId]);\r\n\tlet QuickList = state.getIn([\"Bookings\",\"quickList\"]);\r\n\treturn {User, Event, QuickList}\r\n}\r\n\r\nconst getEvent = event.actions.getEvent\r\nconst mapDispatchToProps = {getEvent, updateQuickList};\r\n\r\nvar VisibleCreatePage = connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(CreatePage);\r\n\r\nexport default VisibleCreatePage;\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/createPage.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Channel = exports.StickyContainer = exports.Sticky = undefined;\n\nvar _sticky = require('./sticky');\n\nvar _sticky2 = _interopRequireDefault(_sticky);\n\nvar _container = require('./container');\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _channel = require('./channel');\n\nvar _channel2 = _interopRequireDefault(_channel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Sticky = _sticky2.default;\nexports.StickyContainer = _container2.default;\nexports.Channel = _channel2.default;\nexports.default = _sticky2.default;\n\n\n// WEBPACK FOOTER //\n// ./~/react-sticky/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Sticky = function (_React$Component) {\n  _inherits(Sticky, _React$Component);\n\n  function Sticky(props) {\n    _classCallCheck(this, Sticky);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Sticky).call(this, props));\n\n    _this.updateContext = function (_ref) {\n      var inherited = _ref.inherited;\n      var node = _ref.node;\n\n      _this.containerNode = node;\n      _this.setState({\n        containerOffset: inherited,\n        distanceFromBottom: _this.getDistanceFromBottom()\n      });\n    };\n\n    _this.recomputeState = function () {\n      var isSticky = _this.isSticky();\n      var height = _this.getHeight();\n      var width = _this.getWidth();\n      var xOffset = _this.getXOffset();\n      var distanceFromBottom = _this.getDistanceFromBottom();\n      var hasChanged = _this.state.isSticky !== isSticky;\n\n      _this.setState({ isSticky: isSticky, height: height, width: width, xOffset: xOffset, distanceFromBottom: distanceFromBottom });\n\n      if (hasChanged) {\n        if (_this.channel) {\n          _this.channel.update(function (data) {\n            data.offset = isSticky ? _this.state.height : 0;\n          });\n        }\n\n        _this.props.onStickyStateChange(isSticky);\n      }\n    };\n\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(Sticky, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      this.channel = this.context['sticky-channel'];\n      this.channel.subscribe(this.updateContext);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.on(['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'], this.recomputeState);\n      this.recomputeState();\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps() {\n      this.recomputeState();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.off(['resize', 'scroll', 'touchstart', 'touchmove', 'touchend', 'pageshow', 'load'], this.recomputeState);\n      this.channel.unsubscribe(this.updateContext);\n    }\n  }, {\n    key: 'getXOffset',\n    value: function getXOffset() {\n      return this.refs.placeholder.getBoundingClientRect().left;\n    }\n  }, {\n    key: 'getWidth',\n    value: function getWidth() {\n      return this.refs.placeholder.getBoundingClientRect().width;\n    }\n  }, {\n    key: 'getHeight',\n    value: function getHeight() {\n      return _reactDom2.default.findDOMNode(this.refs.children).getBoundingClientRect().height;\n    }\n  }, {\n    key: 'getDistanceFromTop',\n    value: function getDistanceFromTop() {\n      return this.refs.placeholder.getBoundingClientRect().top;\n    }\n  }, {\n    key: 'getDistanceFromBottom',\n    value: function getDistanceFromBottom() {\n      if (!this.containerNode) return 0;\n      return this.containerNode.getBoundingClientRect().bottom;\n    }\n  }, {\n    key: 'isSticky',\n    value: function isSticky() {\n      if (!this.props.isActive) return false;\n\n      var fromTop = this.getDistanceFromTop();\n      var fromBottom = this.getDistanceFromBottom();\n\n      var topBreakpoint = this.state.containerOffset - this.props.topOffset;\n      var bottomBreakpoint = this.state.containerOffset + this.props.bottomOffset;\n\n      return fromTop <= topBreakpoint && fromBottom >= bottomBreakpoint;\n    }\n  }, {\n    key: 'on',\n    value: function on(events, callback) {\n      events.forEach(function (evt) {\n        window.addEventListener(evt, callback);\n      });\n    }\n  }, {\n    key: 'off',\n    value: function off(events, callback) {\n      events.forEach(function (evt) {\n        window.removeEventListener(evt, callback);\n      });\n    }\n  }, {\n    key: 'shouldComponentUpdate',\n    value: function shouldComponentUpdate(newProps, newState) {\n      var _this2 = this;\n\n      // Have we changed the number of props?\n      var propNames = Object.keys(this.props);\n      if (Object.keys(newProps).length != propNames.length) return true;\n\n      // Have we changed any prop values?\n      var valuesMatch = propNames.every(function (key) {\n        return newProps.hasOwnProperty(key) && newProps[key] === _this2.props[key];\n      });\n      if (!valuesMatch) return true;\n\n      // Have we changed any state that will always impact rendering?\n      var state = this.state;\n      if (newState.isSticky !== state.isSticky) return true;\n\n      // If we are sticky, have we changed any state that will impact rendering?\n      if (state.isSticky) {\n        if (newState.height !== state.height) return true;\n        if (newState.width !== state.width) return true;\n        if (newState.xOffset !== state.xOffset) return true;\n        if (newState.containerOffset !== state.containerOffset) return true;\n        if (newState.distanceFromBottom !== state.distanceFromBottom) return true;\n      }\n\n      return false;\n    }\n\n    /*\n     * The special sauce.\n     */\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var placeholderStyle = { paddingBottom: 0 };\n      var className = this.props.className;\n\n      // To ensure that this component becomes sticky immediately on mobile devices instead\n      // of disappearing until the scroll event completes, we add `transform: translateZ(0)`\n      // to 'kick' rendering of this element to the GPU\n      // @see http://stackoverflow.com/questions/32875046\n      var style = _extends({}, { transform: 'translateZ(0)' }, this.props.style);\n\n      if (this.state.isSticky) {\n        var _stickyStyle = {\n          position: 'fixed',\n          top: this.state.containerOffset,\n          left: this.state.xOffset,\n          width: this.state.width\n        };\n\n        var bottomLimit = this.state.distanceFromBottom - this.state.height - this.props.bottomOffset;\n        if (this.state.containerOffset > bottomLimit) {\n          _stickyStyle.top = bottomLimit;\n        }\n\n        placeholderStyle.paddingBottom = this.state.height;\n\n        className += ' ' + this.props.stickyClassName;\n        style = _extends({}, style, _stickyStyle, this.props.stickyStyle);\n      }\n\n      var _props = this.props;\n      var topOffset = _props.topOffset;\n      var isActive = _props.isActive;\n      var stickyClassName = _props.stickyClassName;\n      var stickyStyle = _props.stickyStyle;\n      var bottomOffset = _props.bottomOffset;\n      var onStickyStateChange = _props.onStickyStateChange;\n\n      var props = _objectWithoutProperties(_props, ['topOffset', 'isActive', 'stickyClassName', 'stickyStyle', 'bottomOffset', 'onStickyStateChange']);\n\n      return _react2.default.createElement(\n        'div',\n        null,\n        _react2.default.createElement('div', { ref: 'placeholder', style: placeholderStyle }),\n        _react2.default.createElement(\n          'div',\n          _extends({}, props, { ref: 'children', className: className, style: style }),\n          this.props.children\n        )\n      );\n    }\n  }]);\n\n  return Sticky;\n}(_react2.default.Component);\n\nSticky.propTypes = {\n  isActive: _react2.default.PropTypes.bool,\n  className: _react2.default.PropTypes.string,\n  style: _react2.default.PropTypes.object,\n  stickyClassName: _react2.default.PropTypes.string,\n  stickyStyle: _react2.default.PropTypes.object,\n  topOffset: _react2.default.PropTypes.number,\n  bottomOffset: _react2.default.PropTypes.number,\n  onStickyStateChange: _react2.default.PropTypes.func\n};\nSticky.defaultProps = {\n  isActive: true,\n  className: '',\n  style: {},\n  stickyClassName: 'sticky',\n  stickyStyle: {},\n  topOffset: 0,\n  bottomOffset: 0,\n  onStickyStateChange: function onStickyStateChange() {}\n};\nSticky.contextTypes = {\n  'sticky-channel': _react2.default.PropTypes.any\n};\nexports.default = Sticky;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-sticky/lib/sticky.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = require('react-dom');\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _channel = require('./channel');\n\nvar _channel2 = _interopRequireDefault(_channel);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_React$Component) {\n  _inherits(Container, _React$Component);\n\n  function Container(props) {\n    _classCallCheck(this, Container);\n\n    var _this = _possibleConstructorReturn(this, Object.getPrototypeOf(Container).call(this, props));\n\n    _this.updateOffset = function (_ref) {\n      var inherited = _ref.inherited;\n      var offset = _ref.offset;\n\n      _this.channel.update(function (data) {\n        data.inherited = inherited + offset;\n      });\n    };\n\n    _this.channel = new _channel2.default({ inherited: 0, offset: 0, node: null });\n    return _this;\n  }\n\n  _createClass(Container, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return { 'sticky-channel': this.channel };\n    }\n  }, {\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var parentChannel = this.context['sticky-channel'];\n      if (parentChannel) parentChannel.subscribe(this.updateOffset);\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var node = _reactDom2.default.findDOMNode(this);\n      this.channel.update(function (data) {\n        data.node = node;\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.channel.update(function (data) {\n        data.node = null;\n      });\n\n      var parentChannel = this.context['sticky-channel'];\n      if (parentChannel) parentChannel.unsubscribe(this.updateOffset);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react2.default.createElement(\n        'div',\n        this.props,\n        this.props.children\n      );\n    }\n  }]);\n\n  return Container;\n}(_react2.default.Component);\n\nContainer.contextTypes = {\n  'sticky-channel': _react2.default.PropTypes.any\n};\nContainer.childContextTypes = {\n  'sticky-channel': _react2.default.PropTypes.any\n};\nexports.default = Container;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-sticky/lib/container.js","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Channel = function Channel(data) {\n  _classCallCheck(this, Channel);\n\n  var listeners = [];\n  data = data || {};\n\n  this.subscribe = function (fn) {\n    listeners.push(fn);\n  };\n\n  this.unsubscribe = function (fn) {\n    var idx = listeners.indexOf(fn);\n    if (idx !== -1) listeners.splice(idx, 1);\n  };\n\n  this.update = function (fn) {\n    if (fn) fn(data);\n    listeners.forEach(function (l) {\n      return l(data);\n    });\n  };\n};\n\nexports.default = Channel;\nmodule.exports = exports['default'];\n\n\n// WEBPACK FOOTER //\n// ./~/react-sticky/lib/channel.js","import React from 'react'\r\nimport BookingUserDetails from './BookingUserDetails.js'\r\nimport ParticipantForm from './participantsForm.js'\r\nimport PermissionForm from './permissionForm.js'\r\n\r\n//this is a massive component that handles the state of the booking form.\r\nexport default class BookingForm extends React.Component {\r\n\r\n\tconstructor(props) {\r\n    \tsuper(props);\r\n\t\r\n\t\tthis.guest = props.user.id === 1;\r\n\r\n\t\tif(this.props.booking === undefined) {\r\n\t\t\t//new booking, create blank data\r\n\t\t\r\n\t\t\tthis.state = {\r\n\t\t\t\t\t\t\tuser: {\tname: this.guest? '' : props.user.UserName,\r\n\t\t  \t\t\t\t\t\t\temail: this.guest? '' : props.user.Email,\r\n\t\t\t\t\t \t\t\t\tphone:''},\r\n\t\t\t\t\t\t\tparticipants: [blankParticipant(),blankParticipant()],\r\n\t\t\t\t\t\t\tpermission:false\r\n\t\t\t\t\t\t }\t\r\n\t\t} else {\r\n\t\t\t//set state from the booking infomation passed.\r\n\r\n\t\t}\r\n\t\tthis.updateUserDetails = this.updateUserDetails.bind(this);\r\n\t\tthis.updateParticipantDetails = this.updateParticipantDetails.bind(this);\r\n\t\tthis.addParticipant = this.addParticipant.bind(this);\r\n\t\tthis.updatePermission = this.updatePermission.bind(this);\r\n\t}\r\n\r\n\r\n\tupdateUserDetails(item, value) {\r\n\t\tlet user = this.state.user;\r\n\t\tuser[item] = value;\r\n\t\tthis.setState({user:user});\r\n\t}\r\n\r\n\tupdateParticipantDetails(key, item, value) {\r\n\t\tlet participants = this.state.participants;\r\n\t\tparticipants[key][item] = value;\r\n\t\tthis.setState({participants:participants});\r\n\t\tthis.props.updateQuickList(participants.map(p => {return {name:p.name, age: p.age}}));\r\n\t}\r\n\r\n\taddParticipant() {\r\n\t\tlet participants = this.state.participants;\r\n\t\tparticipants.push(blankParticipant());\r\n\t\tthis.setState({participants:participants});\r\n\t}\r\n\r\n\tupdatePermission() {\r\n\t\tthis.setState({permission:!this.state.permission});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(<div>\r\n\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t<h3>Your Details</h3>\r\n\t\t\t\t<p>Please include a contact number we can use during the event</p>\r\n\t\t\t</div>\r\n\t\t\t<BookingUserDetails user={this.state.user} update={this.updateUserDetails} guest={this.guest}/>\r\n\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t<h3>Participants</h3>\r\n\t\t\t\t<p>Please fill out for every person attending (including yourself if applicable)</p>\r\n\t\t\t</div>\r\n\t\t\t<ParticipantForm participants={this.state.participants} update={this.updateParticipantDetails} add={this.addParticipant}/>\r\n\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t<h3>Permission</h3>\r\n\t\t\t</div>\r\n\t\t\t<PermissionForm event={this.props.event} check={this.state.permission} update={this.updatePermission}/>\r\n\t\t</div>)\r\n\t}\r\n}\r\n\r\n//bad bad bad should be based on model.\r\nconst blankParticipant = () => ({\r\n\tname:'',\r\n\tage:'',\r\n\tdiet:'',\r\n\tdietExtra:'',\r\n\tmedical:''\r\n});\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/bookingForm.js","import React from 'react'\r\n\r\nexport default class BookingUserDetails extends React.Component {\r\n\r\n\tconstructor(props) {\r\n      super(props);\r\n\r\n\t  this.update = this.update.bind(this);\r\n\t}\r\n\r\n\tupdate(item) {\r\n\t\treturn (e) => {\r\n\t\t\tthis.props.update(item, e.target.value)\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(<div className=\"col-sm-12\">\r\n\t\t\t\t\t<form className=\"form-horizontal\">\r\n  \t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Your Name:</label>\r\n\t\t\t\t\t\t \t<div className=\"col-sm-10\">\r\n      \t\t\t\t\t\t\t<input type=\"text\" className=\"form-control\" placeholder=\"Name\" disabled={!this.props.guest} value={this.props.user.name} onChange={this.update(\"name\")}/>\r\n    \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  <div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Your e-mail:</label>\r\n\t\t\t\t\t\t \t<div className=\"col-sm-10\">\r\n\t\t\t\t\t\t\t\t  <input type=\"e-mail\" className=\"form-control\" placeholder=\"e-mail\" disabled={!this.props.guest} value={this.props.user.email} onChange={this.update(\"email\")}/>\r\n    \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t<label className=\"col-sm-2 control-label\">Contact Phone Number:</label>\r\n\t\t\t\t\t\t \t<div className=\"col-sm-10\">\r\n\t\t\t\t\t\t\t\t  <input type=\"tel\" className=\"form-control\" placeholder=\"Phone\" value={this.props.user.phone} onChange={this.update(\"phone\")}/>\r\n    \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\r\n\r\n\t\t)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/BookingUserDetails.js","import React from 'react'\r\n\r\nexport default class ParticipantsForm extends React.Component {\r\n\r\n\tconstructor(props) {\r\n      super(props);\r\n\r\n\r\n\t  this.add= this.add.bind(this);\r\n\t}\r\n\r\n\tadd(e) {\r\n\t\tthis.props.add();\r\n\t\te.preventDefault();\r\n\t}\r\n\r\n\t//I hope you like curry\r\n\tupdate(k) {\r\n\t\treturn item => e => {\r\n\t\t\tthis.props.update(k, item, e.target.value)\r\n\t\t\te.preventDefault();\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\r\n\t\tlet rows = this.props.participants.map((p,k) => <ParticipantRow key={k} {...p} update={this.update(k)}/>)\r\n\r\n\t\treturn(<div>\r\n\t\t\t\t<div className=\"col-sm-12\">\r\n\t\t\t\t\t<div className=\"row participants\">\r\n\t\t\t\t\t\t{rows}\r\n\t\t\t\t\t</div>\r\n\t\t\t \t</div><div className=\"col-sm-12 top15\">\t\r\n\t\t\t   \t\t<button className=\"btn btn-default\" onClick={this.add}>More People!</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst ParticipantRow = (props) => {\r\n\r\n\treturn(<div className=\"col-sm-12 participantrow\">\r\n\t\t<form className=\"form-horizontal\">\r\n  \t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"col-sm-3 control-label\">Name:</label>\r\n\t\t\t\t<div className=\"col-sm-3\">\r\n      \t\t\t\t\t<input type=\"text\" value={props.name} onChange={props.update(\"name\")} className=\"form-control\" placeholder=\"Name\"/>\r\n    \t\t\t</div>\r\n\t\t\t\t<label className=\"col-sm-1 control-label\">Age:</label>\r\n\t\t\t\t<div className=\"col-sm-2\">\r\n      \t\t\t\t\t<input type=\"text\" value={props.age} onChange={props.update(\"age\")} className=\"form-control\" placeholder=\"Age\"/>\r\n    \t\t\t</div>\r\n\t\t\t\t<label className=\"col-sm-1 control-label\">Diet:</label>\r\n\t\t\t\t<div className=\"col-sm-2\">\r\n\t\t\t\t\t<select value={props.diet} onChange={props.update(\"diet\")} className=\"form-control\">\r\n \t\t\t\t\t\t<option>Please Select</option>\r\n  \t\t\t\t\t\t<option name=\"omnivore\">Omnivore</option>\r\n\t\t\t\t\t\t<option name=\"vegetarian\">Vegetarian</option>\r\n  \t\t\t\t\t\t<option name=\"vegan\">Vegan</option>\r\n\t\t\t\t\t</select>\r\n    \t\t\t</div>\r\n  \t\t\t</div>\r\n\t\t</form>\t  \r\n\t\t<form className=\"form-horizontal\">\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"col-sm-3 control-label\">Additional dietry infomation or allergies:</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<textarea value={props.dietExtra} onChange={props.update(\"dietExtra\")} className=\"form-control\" rows=\"2\" ></textarea>\r\n    \t\t\t</div>\r\n  \t\t\t</div>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label className=\"col-sm-3 control-label\">Additional medical infomation &amp; medication taken:</label>\r\n\t\t\t\t<div className=\"col-sm-9\">\r\n\t\t\t\t\t<textarea className=\"form-control\" value={props.medical} onChange={props.update(\"medical\")} rows=\"2\" ></textarea>\r\n    \t\t\t</div>\r\n  \t\t\t</div>\r\n\t\t</form>\r\n\t</div>)\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/participantsForm.js","import React from 'react'\r\n\r\nexport default class PermissionForm extends React.Component {\r\n\r\n\tconstructor(props) {\r\n      super(props);\r\n\r\n\t  this.updatePermission = this.updatePermission.bind(this);\r\n\t}\r\n\r\n\tupdatePermission(e) {\r\n\t\tthis.props.update();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn(<div className=\"col-sm-12\">\r\n\t\t\t\t\t<form className=\"form-horizontal\">\r\n  \t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t \t<div className=\"checkbox col-sm-11 col-sm-offset-1\">\r\n      \t\t\t\t\t\t\t<label>\r\n\t\t\t\t\t\t\t\t\t<input type=\"checkbox\"  checked={this.props.check} onChange={this.updatePermission}/>I give permission for the people named above to attend {this.props.event.Name}\r\n  \t\t\t\t\t\t\t\t</label>\r\n    \t\t\t\t\t\t</div>\r\n  \t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/permissionForm.js","import { createStore, applyMiddleware  } from 'redux'\r\nimport thunk from 'redux-thunk';\r\nimport Immutable from 'immutable'\r\nimport { combineReducers } from 'redux-immutable';\r\n\r\nimport user from './user'\r\nimport messages from './messages'\r\nimport events from './events'\r\nimport bookings from './bookings'\r\n\r\n\r\n\r\n\r\n\r\n/*\r\nfunction bookingsApp(state, action) {\r\n  if (typeof state === 'undefined') {\r\n    return initialState\r\n  }\r\n\r\n  // For now, don’t handle any actions\r\n  // and just return the state given to us.\r\n  return state\r\n}\r\n*/\r\n\r\n//const initalState = Immutable.fromJS({User:initalUserState, UI:initalUIState});\r\n\r\nconst rootReducer = combineReducers({\r\n\tUser:user.reducer, \r\n\tMessages:messages.reducer, \r\n\tEvents:events.reducer,\r\n\tBookings:bookings.reducer});\r\n\r\nexport default createStore(rootReducer, Immutable.Map(), applyMiddleware(thunk));\r\n\n\n\n// WEBPACK FOOTER //\n// ./front/store.js","'use strict';\n\nexports.__esModule = true;\nfunction createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    var getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexports['default'] = thunk;\n\n\n// WEBPACK FOOTER //\n// ./~/redux-thunk/lib/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.combineReducers = undefined;\n\nvar _combineReducers = require('./combineReducers');\n\nvar _combineReducers2 = _interopRequireDefault(_combineReducers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.combineReducers = _combineReducers2.default;\n//# sourceMappingURL=index.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _utilities = require('./utilities');\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable lodash3/prefer-lodash-method */\n\nexports.default = function (reducers) {\n    var reducerKeys = undefined;\n\n    reducerKeys = Object.keys(reducers);\n\n    return function (inputState, action) {\n        if (inputState === undefined) {\n            inputState = _immutable2.default.Map();\n        }\n\n        /* eslint-disable no-process-env */\n        if (process.env.NODE_ENV !== 'production') {\n            /* eslint-enable no-process-env */\n            var warningMessage = undefined;\n\n            warningMessage = (0, _utilities.getUnexpectedInvocationParameterMessage)(inputState, reducers, action);\n\n            if (warningMessage) {\n                /* eslint-disable no-console */\n                console.error(warningMessage);\n                /* eslint-enable no-console */\n            }\n        }\n\n        return inputState.withMutations(function (temporaryState) {\n            reducerKeys.forEach(function (reducerName) {\n                var currentDomainState = undefined,\n                    nextDomainState = undefined,\n                    reducer = undefined;\n\n                reducer = reducers[reducerName];\n\n                currentDomainState = temporaryState.get(reducerName);\n\n                nextDomainState = reducer(currentDomainState, action);\n\n                (0, _utilities.validateNextState)(nextDomainState, reducerName, action);\n\n                temporaryState.set(reducerName, nextDomainState);\n            });\n        });\n    };\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=combineReducers.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/combineReducers.js","'use strict';\n'create index';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateNextState = exports.getUnexpectedInvocationParameterMessage = exports.getStateName = undefined;\n\nvar _getStateName2 = require('./getStateName.js');\n\nvar _getStateName3 = _interopRequireDefault(_getStateName2);\n\nvar _getUnexpectedInvocationParameterMessage2 = require('./getUnexpectedInvocationParameterMessage.js');\n\nvar _getUnexpectedInvocationParameterMessage3 = _interopRequireDefault(_getUnexpectedInvocationParameterMessage2);\n\nvar _validateNextState2 = require('./validateNextState.js');\n\nvar _validateNextState3 = _interopRequireDefault(_validateNextState2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.getStateName = _getStateName3.default;\nexports.getUnexpectedInvocationParameterMessage = _getUnexpectedInvocationParameterMessage3.default;\nexports.validateNextState = _validateNextState3.default;\n//# sourceMappingURL=index.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/utilities/index.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (action) {\n    return action && action.type === '@@redux/INIT' ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=getStateName.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/utilities/getStateName.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _immutable = require('immutable');\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _getStateName = require('./getStateName');\n\nvar _getStateName2 = _interopRequireDefault(_getStateName);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable lodash3/prefer-lodash-method */\n\nexports.default = function (state, reducers, action) {\n    var reducerNames = Object.keys(reducers);\n\n    if (!reducerNames.length) {\n        return 'Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.';\n    }\n\n    var stateName = (0, _getStateName2.default)(action);\n\n    if (!_immutable2.default.Iterable.isIterable(state)) {\n        return 'The ' + stateName + ' is of unexpected type. Expected argument to be an instance of Immutable.Iterable with the following properties: \"' + reducerNames.join('\", \"') + '\".';\n    }\n\n    var unexpectedStatePropertyNames = state.keySeq().toArray().filter(function (name) {\n        return !reducers.hasOwnProperty(name);\n    });\n\n    if (unexpectedStatePropertyNames.length > 0) {\n        return 'Unexpected ' + (unexpectedStatePropertyNames.length === 1 ? 'property' : 'properties') + ' \"' + unexpectedStatePropertyNames.join('\", \"') + '\" found in ' + stateName + '. Expected to find one of the known reducer property names instead: \"' + reducerNames.join('\", \"') + '\". Unexpected properties will be ignored.';\n    }\n\n    return null;\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=getUnexpectedInvocationParameterMessage.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/utilities/getUnexpectedInvocationParameterMessage.js","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (nextState, reducerName, action) {\n    if (typeof nextState === 'undefined') {\n        throw new Error('Reducer \"' + reducerName + '\" returned undefined when handling \"' + action.type + '\" action. To ignore an action, you must explicitly return the previous state.');\n    }\n\n    return null;\n};\n\nmodule.exports = exports['default'];\n//# sourceMappingURL=validateNextState.js.map\n\n\n\n// WEBPACK FOOTER //\n// ./~/redux-immutable/dist/utilities/validateNextState.js","import React from 'react'\r\nimport { StickyContainer, Sticky } from 'react-sticky';\r\nimport W from '../../../shared/woodcraft.js'\r\n\r\nW.reverse();\r\n\r\nexport default class CreatePage extends React.Component{\r\n\t\r\n\trender() {\r\n\r\n\t\tconst list = this.props.quickList;\r\n\t\tconst groups = W.map(w => {\r\n\t\t\tconst people = list.filter((p) => p.age === ''? false : w.filter(p.age)).map((p,k) => <p key={k}>{p.name}</p>);\r\n\t\t\tif(people.length === 0)return null;\r\n\t\t\treturn (<div key={w.name}>\r\n\t\t\t\t\t\t<h4>{w.name}</h4>\r\n\t\t\t\t\t\t{people}\r\n\t\t\t\t\t</div>);\r\n\t\t});\r\n\r\n\t\treturn (<StickyContainer className=\"hidden-sm-down col-md-2\" style={{alignItems:\"stretch\"}}> \r\n\t\t\t\t\t<Sticky debug={true}>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div style={{height:\"100px\"}}> \r\n\t\t\t\t\t\t\t\t<h3>Participants Added</h3>\r\n\t\t\t\t\t\t\t\t{groups} \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</Sticky>\r\n\t\t</StickyContainer>)\r\n\t}\r\n\r\n}\t\n\n\n// WEBPACK FOOTER //\n// ./front/bookings/components/participantQuickList.js","//this file contains age groups, etc\r\n\r\nconst woodcraft = [\r\n\t{name:\"Woodchips\",\r\n\tfilter: age => {return age < 6}},\r\n\t{name:\"Elfins\",\r\n\tfilter: age => {return age > 5 && age < 11}},\r\n\t{name:\"Pioneers\",\r\n\tfilter: age => {return age > 9 && age < 13}},\r\n\t{name:\"Venturers\",\r\n\tfilter: age => {return age > 12 && age < 16}},\r\n\t{name:\"DFs/Adults\",\r\n\tfilter: age => {return age > 15}},\r\n]\r\n\r\nmodule.exports = woodcraft;\n\n\n// WEBPACK FOOTER //\n// ./shared/woodcraft.js"],"sourceRoot":""}